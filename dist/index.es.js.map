{"version":3,"file":"index.es.js","sources":["../../src/lib/SendbirdSdkContext.jsx","../../src/lib/dux/sdk/actionTypes.js","../../src/lib/dux/user/actionTypes.js","../../src/lib/dux/sdk/thunks.js","../../src/lib/dux/sdk/initialState.js","../../src/lib/dux/sdk/reducers.js","../../src/lib/dux/user/initialState.js","../../src/lib/dux/user/reducers.js","../../src/lib/Sendbird.jsx","../../src/smart-components/ChannelList/dux/actionTypes.js","../../src/smart-components/ChannelList/dux/initialState.js","../../src/smart-components/ChannelList/dux/reducers.js","../../src/utils/uuid.js","../../src/ui/Avatar/index.jsx","../../src/ui/Label/types.js","../../src/ui/Label/utils.js","../../src/ui/Label/stringSet.js","../../src/ui/Label/index.jsx","../../src/ui/Badge/index.jsx","../../src/ui/FileMessage/utils.js","../../src/ui/ChannelPreview/utils.js","../../src/ui/ChannelPreview/index.jsx","../../src/ui/IconButton/index.jsx","../../src/ui/ChannelHeader/index.jsx","../../src/ui/PlaceHolder/type.js","../../src/ui/Icon/type.js","../../src/ui/Icon/index.jsx","../../src/hooks/useModal/ModalRoot/index.jsx","../../src/ui/Button/type.js","../../src/ui/Button/utils.js","../../src/ui/Button/index.jsx","../../src/ui/Modal/index.jsx","../../src/ui/Checkbox/index.jsx","../../src/smart-components/InviteMembers/index.jsx","../../src/smart-components/ChannelList/components/utils.js","../../src/smart-components/ChannelList/components/AddChannel.jsx","../../src/ui/ContextMenu/index.jsx","../../src/smart-components/ChannelSettings/components/LeaveChannel.jsx","../../src/smart-components/ChannelList/components/ChannelPreviewAction.jsx","../../src/ui/Loader/index.jsx","../../src/ui/PlaceHolder/index.jsx","../../src/smart-components/ChannelList/components/Placeholder.jsx","../../src/smart-components/ChannelList/utils.js","../../src/smart-components/ChannelList/index.jsx","../../src/smart-components/Conversation/dux/actionTypes.js","../../src/smart-components/Conversation/dux/initialState.js","../../src/utils/compareIds.js","../../src/smart-components/Conversation/dux/reducers.js","../../src/smart-components/Conversation/dux/eventListener.js","../../src/utils/utils.js","../../src/ui/MessageStatus/type.js","../../src/ui/MessageStatus/index.jsx","../../src/ui/UserMessage/util.js","../../src/ui/UserMessage/index.jsx","../../src/ui/Message/index.jsx","../../src/ui/AdminMessage/index.jsx","../../src/ui/FileViewer/types.js","../../src/ui/ThumbnailMessage/index.jsx","../../src/utils/color.js","../../src/ui/TextButton/index.jsx","../../src/ui/FileMessage/index.jsx","../../src/ui/DateSeparator/index.jsx","../../src/ui/MessageInput/index.jsx","../../src/ui/FileViewer/index.jsx","../../src/smart-components/Conversation/components/RemoveMessage.jsx","../../src/smart-components/Conversation/components/MessageHOC.jsx","../../src/smart-components/Conversation/utils.js","../../src/smart-components/Conversation/components/ConversationScroll.jsx","../../src/smart-components/Conversation/components/Notification.jsx","../../src/smart-components/Conversation/components/TypingIndicator.jsx","../../src/ui/ChatHeader/utils.js","../../src/ui/AutoRefresh/index.jsx","../../src/ui/ChatHeader/index.jsx","../../src/smart-components/Conversation/index.jsx","../../src/ui/Input/index.jsx","../../src/smart-components/ChannelSettings/components/EditDetails.jsx","../../src/smart-components/ChannelSettings/components/ChannelProfile.jsx","../../src/smart-components/ChannelSettings/components/MemebersAccordion.jsx","../../src/smart-components/ChannelSettings/index.jsx","../../src/smart-components/App/index.jsx","../../src/lib/selectors.js"],"sourcesContent":["import React from 'react';\n\nexport const SendbirdSdkContext = React.createContext();\n\nconst withSendbirdContext = (OriginalComponent, mapStoreToProps) => {\n  const ContextAwareComponent = (props) => (\n    <SendbirdSdkContext.Consumer>\n      {(context) => {\n        if (mapStoreToProps && typeof mapStoreToProps !== 'function') {\n          // eslint-disable-next-line no-console\n          console.warn('Second parameter to withSendbirdContext must be a pure function');\n        }\n        const mergedProps = (mapStoreToProps && typeof mapStoreToProps === 'function')\n          ? { ...mapStoreToProps(context), ...props }\n          : { ...context, ...props };\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        return <OriginalComponent {...mergedProps} />;\n      }}\n    </SendbirdSdkContext.Consumer>\n  );\n\n  const componentName = OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = `SendbirdAware${componentName}`;\n\n  return ContextAwareComponent;\n};\n\nexport default withSendbirdContext;\n","export const INIT_SDK = 'INIT_SDK';\nexport const SET_SDK_LOADING = 'SET_SDK_LOADING';\nexport const RESET_SDK = 'RESET_SDK';\nexport const SDK_ERROR = 'SDK_ERROR';\n","export const INIT_USER = 'INIT_USER';\nexport const RESET_USER = 'RESET_USER';\nexport const SET_USER_LOADING = 'SET_USER_LOADING';\nexport const UPDATE_USER_INFO = 'UPDATE_USER_INFO';\n","import Sb from 'sendbird';\n\nimport {\n  INIT_SDK,\n  SET_SDK_LOADING,\n  RESET_SDK,\n  SDK_ERROR,\n} from './actionTypes';\nimport { INIT_USER, UPDATE_USER_INFO, RESET_USER } from '../user/actionTypes';\n\nexport const disconnectSdk = ({\n  sdkDispatcher,\n  userDispatcher,\n  sdk,\n  onDisconnect,\n}) => {\n  sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n  if (sdk && sdk.disconnect) {\n    sdk.disconnect()\n      .then(() => {\n        sdkDispatcher({ type: RESET_SDK });\n        userDispatcher({ type: RESET_USER });\n      })\n      .finally(() => {\n        onDisconnect();\n      });\n  } else {\n    onDisconnect();\n  }\n};\n\nexport const handleConnection = ({\n  userId,\n  appId,\n  nickname,\n  profileUrl,\n  accessToken,\n  sdk,\n}, dispatchers) => {\n  const {\n    sdkDispatcher,\n    userDispatcher,\n  } = dispatchers;\n  disconnectSdk({\n    sdkDispatcher,\n    userDispatcher,\n    sdk,\n    onDisconnect: () => {\n      sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n      if (userId && appId) {\n        const newSdk = new Sb({ appId });\n        const connectCbSucess = (user) => {\n          sdkDispatcher({ type: INIT_SDK, payload: newSdk });\n          userDispatcher({ type: INIT_USER, payload: user });\n          // use nickname/profileUrl if provided\n          // or set userID as nickname\n          const newNickName = nickname || user.nickname;\n          const newProfileUrl = profileUrl || user.profileUrl;\n          newSdk.updateCurrentUserInfo(newNickName, newProfileUrl)\n            .then((namedUser) => {\n              userDispatcher({ type: UPDATE_USER_INFO, payload: namedUser });\n            });\n        };\n\n        const connectCbError = () => {\n          sdkDispatcher({ type: RESET_SDK });\n          sdkDispatcher({ type: RESET_USER });\n          sdkDispatcher({ type: SDK_ERROR });\n        };\n\n        if (accessToken) {\n          newSdk.connect(userId, accessToken)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        } else {\n          newSdk.connect(userId)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        }\n      } else {\n        sdkDispatcher({ type: SDK_ERROR });\n      }\n    },\n  });\n};\n","export default {\n  initialized: false,\n  loading: false,\n  sdk: {},\n  error: false,\n};\n","import * as sdkActions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case sdkActions.SET_SDK_LOADING:\n      return {\n        ...state,\n        initialized: false,\n        loading: action.payload,\n      };\n    case sdkActions.SDK_ERROR:\n      return {\n        ...state,\n        initialized: false,\n        loading: false,\n        error: true,\n      };\n    case sdkActions.INIT_SDK:\n      return {\n        sdk: action.payload,\n        initialized: true,\n        loading: false,\n        error: false,\n      };\n    case sdkActions.RESET_SDK:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","export default {\n  initialized: false,\n  loading: false,\n  user: {},\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_USER:\n      return {\n        initialized: true,\n        loading: false,\n        user: action.payload,\n      };\n    case actions.RESET_USER:\n      return initialState;\n    case actions.UPDATE_USER_INFO:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import React, { useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SendbirdSdkContext } from './SendbirdSdkContext';\nimport { handleConnection } from './dux/sdk/thunks';\n\nimport sdkReducers from './dux/sdk/reducers';\nimport userReducers from './dux/user/reducers';\nimport sdkInitialState from './dux/sdk/initialState';\nimport userInitialState from './dux/user/initialState';\n\nexport default function Sendbird(props) {\n  const {\n    userId,\n    appId,\n    accessToken,\n    children,\n    theme,\n    nickname,\n    profileUrl,\n    userListQuery,\n  } = props;\n\n  const [sdkStore, sdkDispatcher] = useReducer(sdkReducers, sdkInitialState);\n  const [userStore, userDispatcher] = useReducer(userReducers, userInitialState);\n\n  useEffect(() => {\n    // dispatch action\n    handleConnection({\n      userId,\n      appId,\n      accessToken,\n      sdkStore,\n      nickname,\n      profileUrl,\n      sdk: sdkStore.sdk,\n    }, {\n      sdkDispatcher,\n      userDispatcher,\n    });\n  }, [userId, appId, accessToken]);\n\n  // to create DOM elements for appending modal & context menu\n  // might fail on server side render\n  useEffect(() => {\n    const appentElemWithId = (id) => {\n      const elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      const body = document.querySelector('body');\n      body.appendChild(elem);\n    };\n    const modalRoot = 'sendbird-modal-root';\n    const menuRoot = 'sendbird-dropdown-portal';\n    appentElemWithId(modalRoot);\n    appentElemWithId(menuRoot);\n  }, []);\n\n  // add-remove theme from body\n  useEffect(() => {\n    try {\n      const body = document.querySelector('body');\n      body.classList.add(`sendbird-theme--${theme || 'light'}`);\n      // eslint-disable-next-line no-empty\n    } catch { }\n    return () => {\n      try {\n        const body = document.querySelector('body');\n        body.classList.remove('sendbird-theme--light');\n        body.classList.remove('sendbird-theme--dark');\n        // eslint-disable-next-line no-empty\n      } catch { }\n    };\n  }, [theme]);\n  return (\n    <SendbirdSdkContext.Provider\n      value={{\n        stores: {\n          sdkStore,\n          userStore,\n        },\n        dispatchers: {\n          sdkDispatcher,\n          userDispatcher,\n          reconnect: () => {\n            handleConnection({\n              userId,\n              appId,\n              accessToken,\n              sdkStore,\n              nickname,\n              profileUrl,\n              sdk: sdkStore.sdk,\n            }, {\n              sdkDispatcher,\n              userDispatcher,\n            });\n          },\n        },\n        config: {\n          userId,\n          appId,\n          accessToken,\n          theme,\n          userListQuery,\n        },\n      }}\n    >\n      {children}\n    </SendbirdSdkContext.Provider>\n  );\n}\n\nSendbird.propTypes = {\n  userId: PropTypes.string.isRequired,\n  appId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  theme: PropTypes.string,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  userListQuery: PropTypes.func,\n};\n\nSendbird.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n};\n","export const RESET_CHANNEL_LIST = 'RESET_CHANNEL_LIST';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\nexport const UNLOAD_CHANNELS = 'UNLOAD_CHANNELS';\nexport const SET_CHANNEL_LOADING = 'SET_CHANNEL_LOADING';\nexport const LEAVE_CHANNEL_SUCCESS = 'LEAVE_CHANNEL_SUCCESS';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\n\nexport const SHOW_CHANNEL_SETTINGS = 'SHOW_CHANNEL_SETTINGS';\nexport const HIDE_CHANNEL_SETTINGS = 'HIDE_CHANNEL_SETTINGS';\n\nexport const FETCH_CHANNELS_START = 'FETCH_CHANNELS_START';\nexport const FETCH_CHANNELS_SUCCESS = 'FETCH_CHANNELS_SUCCESS';\nexport const FETCH_CHANNELS_FAILURE = 'FETCH_CHANNELS_FAILURE';\n\nexport const INIT_CHANNELS_START = 'INIT_CHANNELS_START';\nexport const INIT_CHANNELS_SUCCESS = 'INIT_CHANNELS_SUCCESS';\nexport const INIT_CHANNELS_FAILURE = 'INIT_CHANNELS_FAILURE';\n\nexport const INVITE_MEMBERS_SUCESS = 'INVITE_MEMBERS_SUCESS';\n\nexport const ON_USER_JOINED = 'ON_USER_JOINED';\nexport const ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nexport const ON_LAST_MESSAGE_UPDATED = 'ON_LAST_MESSAGE_UPDATED';\nexport const ON_USER_LEFT = 'ON_USER_LEFT';\nexport const ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\n\nexport const ON_READ_RECEIPT_UPDATED = 'ON_READ_RECEIPT_UPDATED';\nexport const ON_DELIVERY_RECEIPT_UPDATED = 'ON_DELIVERY_RECEIPT_UPDATED';\n","export default {\n  // we might not need this initialized state -> should remove\n  initialized: false,\n  loading: false,\n  allChannels: [],\n  currentChannel: null,\n  showSettings: false,\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_CHANNELS_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actions.RESET_CHANNEL_LIST:\n      return initialState;\n    case actions.INIT_CHANNELS_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n        loading: false,\n        allChannels: action.payload,\n        currentChannel: (action.payload && action.payload.length && action.payload.length > 0)\n          ? action.payload[0].url\n          : null,\n      };\n    case actions.FETCH_CHANNELS_SUCCESS: {\n      const currentChannels = state.allChannels.map((c) => c.url);\n      const filteredChannels = action.payload.filter(\n        ({ url }) => !(currentChannels.find((c) => c === url)),\n      );\n      return {\n        ...state,\n        allChannels: [\n          ...state.allChannels,\n          ...filteredChannels,\n        ],\n      };\n    }\n    case actions.CREATE_CHANNEL:\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(\n            (channel) => channel.url !== action.payload.url,\n          )],\n        currentChannel: action.payload.url,\n      };\n    case actions.LEAVE_CHANNEL_SUCCESS:\n    case actions.ON_CHANNEL_DELETED: {\n      const newAllChannels = state.allChannels.filter(({ url }) => url !== action.payload);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n\n      return {\n        ...state,\n        currentChannel,\n        allChannels: newAllChannels,\n      };\n    }\n    case actions.ON_USER_LEFT: {\n      const channel = action.payload;\n      const { myMemberState, url } = channel;\n      // I left\n      const newAllChannels = state.allChannels.filter((c) => c.url !== url);\n      const currentChannel = newAllChannels.length > 0\n        ? newAllChannels[0].url\n        : '';\n      if (myMemberState === 'none') {\n        return {\n          ...state,\n          currentChannel,\n          allChannels: newAllChannels,\n        };\n      }\n      // other user left\n      return {\n        ...state,\n        currentChannel,\n        allChannels: [\n          action.payload,\n          ...newAllChannels,\n        ],\n      };\n    }\n    case actions.ON_USER_JOINED:\n    case actions.ON_CHANNEL_CHANGED:\n    case actions.ON_READ_RECEIPT_UPDATED:\n    case actions.ON_DELIVERY_RECEIPT_UPDATED: {\n      const { allChannels = [] } = state;\n      const { unreadMessageCount } = action.payload;\n      const channel = action.payload;\n      if (!channel.lastMessage) {\n        return state;\n      }\n      // if its only an unread message count change, dont push to top\n      if (unreadMessageCount === 0) {\n        const currentChannel = allChannels.find(({ url }) => url === channel.url);\n        const currentUnReadCount = currentChannel && currentChannel.unreadMessageCount;\n        if (currentUnReadCount === 0) {\n          return {\n            ...state,\n            allChannels: allChannels.map((c) => {\n              if (c.url === channel.url) {\n                return channel;\n              }\n              return c;\n            }),\n          };\n        }\n      }\n      return {\n        ...state,\n        allChannels: [\n          action.payload,\n          ...state.allChannels.filter(({ url }) => url !== action.payload.url),\n        ],\n      };\n    }\n    case actions.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    case actions.SHOW_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: true,\n      };\n    case actions.HIDE_CHANNEL_SETTINGS:\n      return {\n        ...state,\n        showSettings: false,\n      };\n    case actions.ON_LAST_MESSAGE_UPDATED:\n      return {\n        ...state,\n        allChannels: state.allChannels.map((channel) => {\n          if (channel.url === action.payload.url) {\n            return action.payload;\n          }\n          return channel;\n        }),\n      };\n    default:\n      return state;\n  }\n}\n","/* eslint-disable no-bitwise */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-mixed-operators */\n// https://stackoverflow.com/a/2117523\n// used mainly for dom key generation\nexport const uuidv4 = () => 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n  const r = Math.random() * 16 | 0; const\n    v = c === 'x' ? r : (r & 0x3 | 0x8);\n  return v.toString(16);\n});\n\nexport default uuidv4;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DefaultAvatarLight from '../../svgs/icon-avatar-light.svg';\nimport DefaultAvatarDark from '../../svgs/icon-avatar-dark.svg';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\n\nexport const Img = ({\n  src,\n  height,\n  width,\n  alt,\n}) => {\n  const [realElement, setRealElement] = useState(null);\n  // rerender element on src change\n  useEffect(() => {\n    setRealElement(null);\n  }, [src]);\n  return (\n    realElement || (\n      <img\n        src={src}\n        alt={alt}\n        onError={() => {\n          setRealElement((\n            document.querySelector('.sendbird-theme--dark')\n              ? <DefaultAvatarDark className=\"sendbird-avatar-img\" style={{ height, width }} />\n              : <DefaultAvatarLight className=\"sendbird-avatar-img\" style={{ height, width }} />\n          ));\n        }}\n        onLoad={() => {\n          setRealElement((\n            <div\n              className=\"sendbird-avatar-img\"\n              style={{\n                height,\n                width,\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'center',\n                backgroundSize: 'cover',\n                backgroundImage: `url(${src})`,\n              }}\n            />\n          ));\n        }}\n      />\n    )\n  );\n};\n\nImg.propTypes = {\n  src: PropTypes.string,\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nImg.defaultProps = {\n  src: null,\n};\n\nexport const AvatarInner = ({\n  src,\n  height,\n  width,\n  alt,\n}) => {\n  if (typeof src === 'string') {\n    return (\n      <Img src={src} height={height} width={width} alt={alt} />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <Img src={src[0]} height={height} width={width} alt={alt} />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <Img src={src[0]} height={height} width={width} alt={alt} />\n          <Img src={src[1]} height={height} width={width} alt={alt} />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <Img src={src[0]} height={height} width={width} alt={alt} />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <Img src={src[1]} height={height} width={width} alt={alt} />\n            <Img src={src[2]} height={height} width={width} alt={alt} />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <Img src={i} height={height} width={width} alt={alt} key={uuidv4()} />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return <Img height={height} width={width} alt={alt} />;\n};\n\nAvatarInner.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nAvatarInner.defaultProps = {\n  src: '',\n};\n\nexport default function Avatar({\n  src,\n  height,\n  width,\n  alt,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={\n        [\n          ...injectingClassName,\n          'sendbird-avatar',\n        ].join(' ')\n      }\n      style={{ height, width }}\n    >\n      <AvatarInner src={src} height={height} width={width} alt={alt} />\n    </div>\n  );\n}\n\nAvatar.propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  height: PropTypes.string,\n  width: PropTypes.string,\n  alt: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAvatar.defaultProps = {\n  height: '56px',\n  width: '56px',\n  alt: '',\n  src: '',\n  className: '',\n};\n","export const Typography = {\n  H_1: 'H_1',\n  H_2: 'H_2',\n  SUBTITLE_1: 'SUBTITLE_1',\n  SUBTITLE_2: 'SUBTITLE_2',\n  BODY_1: 'BODY_1',\n  BODY_2: 'BODY_2',\n  BUTTON_1: 'BUTTON_1',\n  BUTTON_2: 'BUTTON_2',\n  CAPTION_1: 'CAPTION_1',\n  CAPTION_2: 'CAPTION_2',\n  CAPTION_3: 'CAPTION_3',\n};\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n","import { Typography, Colors } from './types';\n\nexport function changeTypographyToClassName(type) {\n  switch (type) {\n    case Typography.H_1: return 'sendbird-label--h-1';\n    case Typography.H_2: return 'sendbird-label--h-2';\n    case Typography.SUBTITLE_1: return 'sendbird-label--subtitle-1';\n    case Typography.SUBTITLE_2: return 'sendbird-label--subtitle-2';\n    case Typography.BODY_1: return 'sendbird-label--body-1';\n    case Typography.BODY_2: return 'sendbird-label--body-2';\n    case Typography.BUTTON_1: return 'sendbird-label--button-1';\n    case Typography.BUTTON_2: return 'sendbird-label--button-2';\n    case Typography.CAPTION_1: return 'sendbird-label--caption-1';\n    case Typography.CAPTION_2: return 'sendbird-label--caption-2';\n    case Typography.CAPTION_3: return 'sendbird-label--caption-3';\n    default: return null;\n  }\n}\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-label--color-onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-label--color-onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-label--color-onbackground-3';\n    case Colors.ONCONTENT_1: return 'sendbird-label--color-oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-label--color-primary';\n    case Colors.ERROR: return 'sendbird-label--color-error';\n    default: return null;\n  }\n}\n","const getStringSet = (lang) => {\n  const stringSet = {\n    en: {\n      CHANNEL_LIST__TITLE: 'Channels',\n      CHANNEL__MESSAGE_INPUT__PLACE_HOLDER: 'Enter message',\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE: 'new message(s) since',\n      CHANNEL__MESSAGE_LIST__NOTIFICATION__ON: 'on',\n      CHANNEL_SETTING__HEADER__TITLE: 'Channel information',\n      CHANNEL_SETTING__PROFILE__EDIT: 'Edit',\n      CHANNEL_SETTING__MEMBERS__TITLE: 'Members',\n      CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS: 'All members',\n      CHANNEL_SETTING__MEMBERS__INVITE_MEMBER: 'Invite users',\n      CHANNEL_SETTING__LEAVE_CHANNEL__TITLE: 'Leave channel',\n      BUTTON__CANCEL: 'Cancel',\n      BUTTON__DELETE: 'Delete',\n      BUTTON__SAVE: 'Save',\n      BUTTON__CREATE: 'Create',\n      BUTTON__INVITE: 'Invite',\n      BUTTON__CLOSE: 'Close',\n      BADGE__OVER: '+',\n      MODAL__DELETE_MESSAGE__TITLE: 'Delete this message?',\n      MODAL__CHANNEL_INFORMATION__TITLE: 'Edit channel information',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE: 'Channel image',\n      MODAL__CHANNEL_INFORMATION__UPLOAD: 'Upload',\n      MODAL__CHANNEL_INFORMATION__CHANNEL_NAME: 'Channel name',\n      MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER: 'Enter name',\n      MODAL__INVITE_MEMBER__TITLE: 'Invite member',\n      MODAL__INVITE_MEMBER__SELECTEC: 'selected',\n      MODAL__CREATE_CHANNEL__TITLE: 'New channel',\n      MODAL__CREATE_CHANNEL__SELECTED: 'seledted',\n      MODAL__USER_LIST__TITLE: 'members',\n      TYPING_INDICATOR__IS_TYPING: 'is typing...',\n      TYPING_INDICATOR__AND: 'and',\n      TYPING_INDICATOR__ARE_TYPING: 'are typing...',\n      TYPING_INDICATOR__MULTIPLE_TYPING: 'Several people are typing...',\n      MESSAGE_STATUS__SENDING_FAILED: 'Couldn\\'t send message.',\n      MESSAGE_STATUS__TRY_AGAIN: 'Try again',\n      MESSAGE_STATUS__OR: 'or',\n      MESSAGE_STATUS__DELETE: 'delete',\n      PLACE_HOLDER__NO_CHANNEL: 'No channels',\n      PLACE_HOLDER__WRONG: 'Something went wrong',\n      PLACE_HOLDER__RETRY_TO_CONNECT: 'Retry',\n      NO_TITLE: 'No title',\n      NO_NAME: '(No name)',\n      NO_MEMBERS: '(No members)',\n    },\n  };\n  return (stringSet && stringSet[lang]) ? stringSet[lang] : {};\n};\n\nexport default getStringSet;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { Typography, Colors } from './types';\nimport { changeTypographyToClassName, changeColorToClassName } from './utils';\nimport getStringSet from './stringSet';\n\nexport default function Label({\n  type,\n  color,\n  children,\n  className,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={\n        [\n          ...injectingClassName,\n          'sendbird-label',\n          changeTypographyToClassName(type),\n          changeColorToClassName(color),\n        ].join(' ')\n      }\n    >\n      {children}\n    </div>\n  );\n}\n\nLabel.propTypes = {\n  type: PropTypes.oneOf(Object.keys(Typography)),\n  color: PropTypes.oneOf(Object.keys(Colors)),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.element,\n    PropTypes.any,\n  ]),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nLabel.defaultProps = {\n  type: Typography.H_1,\n  color: Colors.ONBACKGROUND_1,\n  className: [],\n  children: null,\n};\n\nconst LabelTypography = Typography;\nconst LabelColors = Colors;\nconst LabelStringSet = getStringSet('en');\nexport { LabelTypography, LabelColors, LabelStringSet };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-badge'].join(' ')}>\n      <div className=\"sendbird-badge__text\">\n        <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONCONTENT_1}>\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${LabelStringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","export const truncate = (fullStr, strLen) => {\n  if (fullStr === null || fullStr === undefined) return '';\n  if (fullStr.length <= strLen) return fullStr;\n  const separator = '...';\n  const sepLen = separator.length;\n  const charsToShow = strLen - sepLen;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nexport default truncate;\n","import Moment from 'moment';\nimport truncateFileName from '../FileMessage/utils';\nimport { LabelStringSet } from '../Label';\n\nexport const getChannelAvatarSource = (channel, currentUserId) => {\n  if (channel && channel.coverUrl) {\n    if (channel.coverUrl !== 'https://static.sendbird.com/sample/cover/cover_') {\n      return channel.coverUrl;\n    }\n  }\n  return channel && channel.members\n    ? channel.members\n      .filter((member) => member.userId !== currentUserId)\n      .map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\nexport const getChannelTitle = (channel = {}, currentUserId) => {\n  if (!channel || (!channel.name && !channel.members)) {\n    return LabelStringSet.NO_TITLE;\n  }\n  if (channel.name && channel.name !== 'Group Channel') {\n    return channel.name;\n  }\n  if (channel.members.length === 1) {\n    return LabelStringSet.NO_MEMBERS;\n  }\n  return channel.members\n    .filter(({ userId }) => userId !== currentUserId)\n    .map(({ nickname }) => (nickname || LabelStringSet.NO_NAME))\n    .join(', ');\n};\n\nexport const prettyDate = (date) => (Moment(date, 'x').fromNow());\n\nexport const getLastMessageCreatedAt = (channel) => {\n  if (!channel || !channel.lastMessage) {\n    return '';\n  }\n  const moment = Moment(channel.lastMessage.createdAt);\n  switch (moment.calendar().split(' ')[0]) {\n    case 'Today': {\n      return moment.format('LT');\n    }\n    case 'Yesterday': {\n      return 'Yesterday';\n    }\n    default: return moment.format('ll').split(',')[0];\n  }\n};\n\nexport const getTotalMembers = (channel) => (\n  channel && channel.memberCount\n    ? channel.memberCount\n    : 0\n);\n\nconst getPrettyLastMessage = (message = {}) => {\n  const MAXLEN = 30;\n  const { messageType, name } = message;\n  if (messageType === 'file') {\n    return truncateFileName(name, MAXLEN);\n  }\n  return message.message;\n};\n\nexport const getLastMessage = (channel) => (\n  channel && channel.lastMessage\n    ? getPrettyLastMessage(channel.lastMessage)\n    : ''\n);\n\nexport const getChannelUnreadMessageCount = (channel) => (\n  (channel && channel.unreadMessageCount)\n    ? channel.unreadMessageCount\n    : 0\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Badge from '../Badge';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\n// import { generateBem } from \"../../utils/bem\";\n\nimport * as utils from './utils';\n\nexport default function ChannelPreview({\n  channel,\n  isActive,\n  ChannelAction,\n  onClick,\n  tabIndex,\n  currentUser,\n}) {\n  const {\n    userId,\n  } = currentUser;\n  return (\n    <div\n      role=\"link\"\n      tabIndex={tabIndex}\n      onClick={onClick}\n      onKeyPress={onClick}\n      className={`\n        sendbird-channel-preview\n        ${isActive ? 'sendbird-channel-preview--active' : null}\n      `}\n    >\n      <div\n        className=\"sendbird-channel-preview__avatar\"\n      >\n        <Avatar src={utils.getChannelAvatarSource(channel, userId)} />\n      </div>\n      <div\n        className=\"sendbird-channel-preview__content\"\n      >\n        <div className=\"sendbird-channel-preview__content__upper\">\n          <div className=\"sendbird-channel-preview__content__upper__header\">\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__channel-name\"\n              type={LabelTypography.SUBTITLE_2}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {utils.getChannelTitle(channel, userId)}\n            </Label>\n            <Label\n              className=\"sendbird-channel-preview__content__upper__header__total-members\"\n              type={LabelTypography.CAPTION_2}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {utils.getTotalMembers(channel)}\n            </Label>\n          </div>\n          <Label\n            className=\"sendbird-channel-preview__content__upper__last-message-at\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {utils.getLastMessageCreatedAt(channel)}\n          </Label>\n        </div>\n\n        <div className=\"sendbird-channel-preview__content__lower\">\n          <Label\n            className=\"sendbird-channel-preview__content__lower__last-message\"\n            type={LabelTypography.BODY_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            {utils.getLastMessage(channel)}\n          </Label>\n          <div className=\"sendbird-channel-preview__content__lower__unread-message-count\">\n            {\n              utils.getChannelUnreadMessageCount(channel)\n                ? <Badge count={utils.getChannelUnreadMessageCount(channel)} />\n                : null\n            }\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"sendbird-channel-preview__action\"\n      >\n        {ChannelAction}\n      </div>\n    </div>\n  );\n}\n\nChannelPreview.propTypes = {\n  isActive: PropTypes.bool,\n  channel: PropTypes.shape({\n    members: PropTypes.arrayOf(PropTypes.shape({})),\n  }),\n  ChannelAction: PropTypes.element.isRequired,\n  onClick: PropTypes.func,\n  tabIndex: PropTypes.number,\n  currentUser: PropTypes.shape({\n    userId: PropTypes.string,\n  }),\n};\n\nChannelPreview.defaultProps = {\n  channel: {},\n  isActive: false,\n  onClick: () => { },\n  tabIndex: 0,\n  currentUser: {},\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    children,\n    className,\n    disabled = false,\n    type,\n    height,\n    width,\n    onClick,\n  } = props;\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={`sendbird-iconbutton ${className}`}\n      disabled={disabled}\n      ref={ref}\n      type={type}\n      style={{ height, width }}\n      onClick={onClick}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  height: PropTypes.string,\n  width: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  type: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nIconButton.defaultProps = {\n  height: '56px',\n  width: '56px',\n  className: '',\n  type: 'button',\n  disabled: false,\n  onClick: () => { },\n};\n\nexport default IconButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\nimport IconButton from '../IconButton';\n\nimport './index.scss';\n\nexport default function ChannelHeader({ title, iconButton }) {\n  return (\n    <div className=\"sendbird-channel-header\">\n      <div className=\"sendbird-channel-header__title\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {title || LabelStringSet.CHANNEL_LIST__TITLE}\n        </Label>\n      </div>\n      <div className=\"sendbird-channel-header__right-icon\">\n        {iconButton}\n      </div>\n    </div>\n  );\n}\n\nChannelHeader.propTypes = {\n  title: PropTypes.string,\n  iconButton: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.instanceOf(IconButton),\n  ]),\n};\n\nChannelHeader.defaultProps = {\n  title: '',\n  iconButton: null,\n};\n","export function Types() {\n  return {\n    LOADING: 'LOADING',\n    NO_CHANNELS: 'NO_CHANNELS',\n    WRONG: 'WRONG',\n  };\n}\n\nexport default Types();\n","export default {\n  ADD: 'ADD',\n  ATTACH: 'ATTACH',\n  ARROW_LEFT: 'ARROW_LEFT',\n  AVATAR_DARK: 'AVATAR_DARK',\n  AVATAR_LIGHT: 'AVATAR_LIGHT',\n  CAMERA: 'CAMERA',\n  MORE: 'MORE',\n  MUTE: 'MUTE',\n  CHECKBOX: 'CHECKBOX',\n  CHECKBOX_OFF: 'CHECKBOX_OFF',\n  CLOSE: 'CLOSE',\n  COPY: 'COPY',\n  CHAT: 'CHAT',\n  CREATE: 'CREATE',\n  DELETE: 'DELETE',\n  DUMMY: 'DUMMY',\n  EDIT: 'EDIT',\n  ERROR: 'ERROR',\n  ERROR_FILLED: 'ERROR_FILLED',\n  DELIVERED: 'DELIVERED',\n  DOCUMENT: 'DOCUMENT',\n  DOWNLOAD: 'DOWNLOAD',\n  FILE_AUDIO: 'FILE_AUDIO',\n  FILE_DOCUMENT: 'FILE_DOCUMENT',\n  GIF: 'GIF',\n  INFO: 'INFO',\n  LEAVE: 'LEAVE',\n  MEMBERS: 'MEMBERS',\n  NOTIFICATIONS: 'NOTIFICATIONS',\n  PHOTO: 'PHOTO',\n  PLAY: 'PLAY',\n  PLUS: 'PLUS',\n  READ: 'READ',\n  REFRESH: 'REFRESH',\n  SEND: 'SEND',\n  SENT: 'SENT',\n  SHEVRON: 'SHEVRON',\n  SHEVRON_DOWN: 'SHEVRON_DOWN',\n  SPINNER: 'SPINNER',\n  USER: 'USER',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Type from './type';\n\nimport IconAdd from '../../svgs/icon-add.svg';\nimport IconAttach from '../../svgs/icon-attach.svg';\nimport IconArrowLeft from '../../svgs/icon-arrow-left.svg';\nimport IconAvatarDark from '../../svgs/icon-avatar-dark.svg';\nimport IconAvatarLight from '../../svgs/icon-avatar-light.svg';\nimport IconCamera from '../../svgs/icon-camera.svg';\nimport IconMore from '../../svgs/icon-more.svg';\nimport IconMute from '../../svgs/icon-mute.svg';\nimport IconCheckbox from '../../svgs/icon-checkbox.svg';\nimport IconCheckboxOff from '../../svgs/icon-checkbox-off.svg';\nimport IconClose from '../../svgs/icon-close.svg';\nimport IconCopy from '../../svgs/icon-copy.svg';\nimport IconChat from '../../svgs/icon-chat.svg';\nimport IconCreate from '../../svgs/icon-create.svg';\nimport IconDelete from '../../svgs/icon-delete.svg';\nimport IconDummy from '../../svgs/icon-dummy.svg';\nimport IconEdit from '../../svgs/icon-edit.svg';\nimport IconError from '../../svgs/icon-error.svg';\nimport IconErrorFilled from '../../svgs/icon-error-filled.svg';\nimport IconDelivered from '../../svgs/icon-delivered.svg';\nimport IconDocument from '../../svgs/icon-document.svg';\nimport IconDownload from '../../svgs/icon-download.svg';\nimport IconFileAudio from '../../svgs/icon-file-audio.svg';\nimport IconFileDocument from '../../svgs/icon-file-document.svg';\nimport IconGif from '../../svgs/icon-gif.svg';\nimport IconInfo from '../../svgs/icon-info.svg';\nimport IconLeave from '../../svgs/icon-leave.svg';\nimport IconMembers from '../../svgs/icon-members.svg';\nimport IconNotifications from '../../svgs/icon-notifications.svg';\nimport IconPhoto from '../../svgs/icon-photo.svg';\nimport IconPlay from '../../svgs/icon-play.svg';\nimport IconPlus from '../../svgs/icon-plus.svg';\nimport IconRead from '../../svgs/icon-read.svg';\nimport IconRefresh from '../../svgs/icon-refresh.svg';\nimport IconSend from '../../svgs/icon-send.svg';\nimport IconSent from '../../svgs/icon-sent.svg';\nimport IconShevron from '../../svgs/icon-shevron.svg';\nimport IconShevronDown from '../../svgs/icon-shevron-down.svg';\nimport IconSpinner from '../../svgs/icon-spinner-small.svg';\nimport IconUser from '../../svgs/icon-user.svg';\n\nconst Colors = {\n  DEFAULT: 'DEFAULT',\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  CONTENT: 'CONTENT',\n  WHITE: 'WHITE',\n  SENT: 'SENT',\n  READ: 'READ',\n};\n\nfunction changeColorToClassName(color) {\n  switch (color) {\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.SECONDARY: return 'sendbird-color--secondary';\n    case Colors.CONTENT: return 'sendbird-color--content';\n    case Colors.WHITE: return 'sendbird-color--white';\n    case Colors.SENT: return 'sendbird-color--sent';\n    case Colors.READ: return 'sendbird-color--read';\n    default: return '';\n  }\n}\n\nfunction changeTypeToIconComponent(type) {\n  switch (type) {\n    case Type.ADD: return <IconAdd />;\n    case Type.ARROW_LEFT: return <IconArrowLeft />;\n    case Type.CAMERA: return <IconCamera />;\n    case Type.ATTACH: return <IconAttach />;\n    case Type.AVATAR_DARK: return <IconAvatarDark />;\n    case Type.AVATAR_LIGHT: return <IconAvatarLight />;\n    case Type.MORE: return <IconMore />;\n    case Type.MUTE: return <IconMute />;\n    case Type.CHECKBOX: return <IconCheckbox />;\n    case Type.CHECKBOX_OFF: return <IconCheckboxOff />;\n    case Type.CLOSE: return <IconClose />;\n    case Type.COPY: return <IconCopy />;\n    case Type.CHAT: return <IconChat />;\n    case Type.CREATE: return <IconCreate />;\n    case Type.DELETE: return <IconDelete />;\n    case Type.DUMMY: return <IconDummy />;\n    case Type.EDIT: return <IconEdit />;\n    case Type.ERROR: return <IconError />;\n    case Type.ERROR_FILLED: return <IconErrorFilled />;\n    case Type.DELIVERED: return <IconDelivered />;\n    case Type.DOCUMENT: return <IconDocument />;\n    case Type.DOWNLOAD: return <IconDownload />;\n    case Type.FILE_AUDIO: return <IconFileAudio />;\n    case Type.FILE_DOCUMENT: return <IconFileDocument />;\n    case Type.GIF: return <IconGif />;\n    case Type.INFO: return <IconInfo />;\n    case Type.LEAVE: return <IconLeave />;\n    case Type.MEMBERS: return <IconMembers />;\n    case Type.NOTIFICATIONS: return <IconNotifications />;\n    case Type.PHOTO: return <IconPhoto />;\n    case Type.PLAY: return <IconPlay />;\n    case Type.PLUS: return <IconPlus />;\n    case Type.READ: return <IconRead />;\n    case Type.REFRESH: return <IconRefresh />;\n    case Type.SEND: return <IconSend />;\n    case Type.SENT: return <IconSent />;\n    case Type.SHEVRON: return <IconShevron />;\n    case Type.SHEVRON_DOWN: return <IconShevronDown />;\n    case Type.SPINNER: return <IconSpinner />;\n    case Type.USER: return <IconUser />;\n    default: return null;\n  }\n}\n\nexport default function Icon({\n  type,\n  width,\n  height,\n  children,\n  className,\n  onClick,\n  fillColor,\n}) {\n  const style = {\n    width: typeof width === 'string' ? width : `${width}px`,\n    height: typeof height === 'string' ? height : `${height}px`,\n  };\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      onClick={onClick}\n      onKeyDown={onClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      className={[\n        ...injectingClassName,\n        'sendbird-icon',\n        changeColorToClassName(fillColor),\n      ].join(' ')}\n      style={style}\n    >\n      {\n        children || changeTypeToIconComponent(type)\n      }\n    </div>\n  );\n}\n\nIcon.propTypes = {\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(Type)),\n    PropTypes.string,\n  ]),\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  onClick: PropTypes.func,\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  fillColor: PropTypes.oneOf(Object.keys(Colors)),\n};\n\nIcon.defaultProps = {\n  type: '',\n  onClick: () => { },\n  width: 26,\n  height: 26,\n  children: null,\n  className: '',\n  fillColor: Colors.DEFAULT,\n};\n\nexport const IconTypes = Type;\nexport const IconColors = Colors;\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  type,\n  size,\n  children,\n  onClick,\n  className,\n}) {\n  const injectingClassNames = [\n    'sendbird-button',\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n    ...((Array.isArray(className)) ? className : [className]),\n  ].join(' ');\n\n  return (\n    <button type=\"button\" className={injectingClassNames} onClick={onClick}>\n      <Label\n        className=\"sendbird-button__text\"\n        type={LabelTypography.BUTTON_1}\n        color={LabelColors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  onClick: PropTypes.func,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nButton.defaultProps = {\n  children: 'Button',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  onClick: () => { },\n  className: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Button from '../Button';\nimport { Type as ButtonTypes } from '../Button/type';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal-header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal-body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n};\nModalBody.defaultProps = {\n  children: null,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  submitText,\n  type,\n}) => (\n  <div className=\"sendbird-modal-footer\">\n    <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n      <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n        {LabelStringSet.BUTTON__CANCEL}\n      </Label>\n    </Button>\n    <Button type={type} onClick={onSubmit}>\n      {submitText}\n    </Button>\n  </div>\n);\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  type: ButtonTypes.DANGER,\n};\n\nfunction Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal-content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal-close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.SECONDARY}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-modal-backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nexport default function Checkbox({\n  id,\n  checked,\n  onChange,\n}) {\n  const [isChecked, setCheck] = useState(checked);\n  return (\n    <label className=\"sendbird-checkbox\" htmlFor={id}>\n      <input\n        id={id}\n        type=\"checkbox\"\n        checked={isChecked}\n        onClick={() => setCheck(!isChecked)}\n        onChange={onChange}\n      />\n      <span className=\"sendbird-checkbox--checkmark\" />\n    </label>\n  );\n}\n\nCheckbox.propTypes = {\n  id: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nCheckbox.defaultProps = {\n  id: 'sendbird-checkbox-input',\n  checked: false,\n  onChange: () => { },\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../../ui/Avatar';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../ui/Label';\nimport Modal from '../../ui/Modal';\nimport { Type as ButtonTypes } from '../../ui/Button/type';\nimport Checkbox from '../../ui/Checkbox';\n\nconst filterUser = (idsToFilter) => (currentId) => idsToFilter.includes(currentId);\n\nconst InviteMembers = (props) => {\n  const {\n    userQueryCreator,\n    closeModal,\n    onSubmit,\n    submitText,\n    titleText,\n    idsToFilter,\n    swapParams,\n  } = props;\n\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const [usersDataSource, setUsersDataSource] = useState({});\n\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  useEffect(() => {\n    const applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next((res, err) => {\n      // eslint-disable-next-line no-underscore-dangle\n      let users_ = res;\n      let error = err;\n      if (swapParams) {\n        users_ = err;\n        error = users_;\n      }\n      if (error) {\n        return;\n      }\n      setUsers(users_);\n    });\n  }, []);\n\n  return (\n    <Modal\n      onCancel={closeModal}\n      onSubmit={() => {\n        const selectedUserList = Object.keys(selectedUsers);\n        if (selectedUserList.length > 0) {\n          onSubmit(selectedUserList);\n          closeModal();\n        }\n      }}\n      submitText={submitText}\n      titleText={titleText}\n      type={ButtonTypes.PRIMARY}\n    >\n      <div>\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${LabelStringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-create-channel--scroll\"\n          onScroll={(e) => {\n            const { hasNext } = usersDataSource;\n            const fetchMore = (\n              e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              usersDataSource.next((usersBatch, error) => {\n                if (error) {\n                  return;\n                }\n                setUsers([\n                  ...users,\n                  ...usersBatch,\n                ]);\n              });\n            }\n          }}\n        >\n          {\n            users.map((user) => (!filterUser(idsToFilter)(user.userId)) && (\n              <div key={user.userId} className=\"sendbird-create-channel--user-row\">\n                <div className=\"sendbird-create-channel--user-row--avatar\">\n                  <Avatar height=\"40px\" width=\"40px\" src={user.profileUrl} />\n                </div>\n                <div className=\"sendbird-create-channel--user-row--label\">\n                  <Label className=\"sendbird-create-channel--user-row--label__nickname\" type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                    {user.nickname || LabelStringSet.NO_NAME}\n                  </Label>\n                  {\n                    user.nickname\n                      ? null\n                      : (\n                        <Label className=\"sendbird-create-channel--user-row--label__user-id\" type={LabelTypography.CAPTION_3} color={LabelColors.ONBACKGROUND_2}>\n                          {user.userId}\n                        </Label>\n                      )\n                  }\n                </div>\n                {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n                <label htmlFor={user.userId} className=\"sendbird-create-channel--user-row--checkbox\">\n                  <Checkbox\n                    id={user.userId}\n                    checked={selectedUsers[user.userId]}\n                    onChange={\n                      (event) => {\n                        const modifiedSelectedUsers = {\n                          ...selectedUsers,\n                          [event.target.id]: event.target.checked,\n                        };\n\n                        if (!event.target.checked) {\n                          delete modifiedSelectedUsers[event.target.id];\n                        }\n\n                        setSelectedUsers(modifiedSelectedUsers);\n                      }\n                    }\n                  />\n                </label>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nInviteMembers.propTypes = {\n  idsToFilter: PropTypes.arrayOf(\n    PropTypes.string,\n  ),\n  swapParams: PropTypes.bool,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string,\n};\nInviteMembers.defaultProps = {\n  swapParams: false,\n  submitText: 'create',\n  titleText: 'Create new channel',\n  idsToFilter: [],\n};\n\nexport default InviteMembers;\n","export const createChannel = (sdk, selectedUsers) => new Promise((resolve, reject) => {\n  sdk.GroupChannel.createChannelWithUserIds(\n    selectedUsers,\n    false, // 'distinct' is false\n    '', // NAME\n    '', // COVER_IMAGE_OR_URL\n    '', // DATA\n    (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    },\n  );\n});\n\nexport default createChannel;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from '../../../ui/IconButton';\nimport { LabelStringSet } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\nimport InviteMembers from '../../InviteMembers';\n\nimport { createChannel } from './utils';\nimport { CREATE_CHANNEL } from '../dux/actionTypes';\n\nexport default function AddChannel({\n  sdk,\n  channelListDispatcher,\n  userId,\n  userListQuery,\n}) {\n  const [showModal, setshowModal] = useState(false);\n\n  if (!sdk || !sdk.createApplicationUserListQuery) {\n    return null;\n  }\n\n  return (\n    <>\n      <IconButton\n        height=\"32px\"\n        width=\"32px\"\n        onClick={() => {\n          setshowModal(true);\n        }}\n      >\n        <Icon\n          type={IconTypes.CREATE}\n          fillColor={IconColors.PRIMARY}\n          width=\"24px\"\n          height=\"24px\"\n        />\n      </IconButton>\n      {\n        showModal && (\n          <InviteMembers\n            swapParams={\n              sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n            }\n            titleText={LabelStringSet.MODAL__CREATE_CHANNEL__TITLE}\n            submitText={LabelStringSet.BUTTON__CREATE}\n            closeModal={() => setshowModal(false)}\n            idsToFilter={[userId]}\n            userQueryCreator={() => ((userListQuery && typeof userListQuery === 'function')\n              ? userListQuery()\n              : sdk.createApplicationUserListQuery())}\n            onSubmit={(selectedUsers) => createChannel(sdk, selectedUsers)\n              .then((channel) => {\n                // maybe - do this in event listener\n                channelListDispatcher({\n                  type: CREATE_CHANNEL,\n                  payload: channel,\n                });\n              })}\n          />\n        )\n      }\n    </>\n  );\n}\n\nAddChannel.propTypes = {\n  sdk: PropTypes.shape({\n    getErrorFirstCallback: PropTypes.func,\n    createApplicationUserListQuery: PropTypes.func,\n  }).isRequired,\n  channelListDispatcher: PropTypes.func.isRequired,\n  userId: PropTypes.string.isRequired,\n  userListQuery: PropTypes.func,\n};\n\nAddChannel.defaultProps = {\n  userListQuery: null,\n};\n","import React, { Component, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    tabIndex={0}\n    className=\"sendbird-dropdown__menu-item\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n    role=\"menuitem\"\n  >\n    <Label\n      type={LabelTypography.SUBTITLE_2}\n      color={LabelColors.ONBACKGROUND_1}\n      className=\"sendbird-dropdown__menu-item__text\"\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\n\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\n\nexport class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n    this.showParent();\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n  }\n\n  showParent = () => {\n    const { parentRef = {} } = this.props;\n    const { current } = parentRef;\n    if (parentRef && current) {\n      current.classList.add('sendbird-icon--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentRef = {} } = this.props;\n    const { current } = parentRef;\n    if (parentRef && current) {\n      current.classList.remove('sendbird-icon--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef, openLeft } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth && !openLeft) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n\n    menuStyle.top += 32;\n    if (openLeft) {\n      menuStyle.left -= 108;\n    }\n\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}px`,\n                top: `${Math.round(menuStyle.top)}px`,\n              }}\n            >\n              {children}\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n  openLeft: PropTypes.bool,\n};\nMenuItems.defaultProps = {\n  openLeft: false,\n};\n\nexport default function ContextMenu({ menuTrigger, menuItems }) {\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <div style={{ display: 'inline' }}>\n      {menuTrigger(() => setShowMenu(!showMenu))}\n      {showMenu && menuItems(() => setShowMenu(false))}\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\n\nconst LeaveChannel = (props) => {\n  const {\n    onCloseModal,\n    onLeaveChannel,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onLeaveChannel}\n      submitText=\"Leave\"\n      titleText=\"Leave this channel?\"\n    />\n  );\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nexport default LeaveChannel;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ContextMenu, { MenuItem, MenuItems } from '../../../ui/ContextMenu';\n\nimport IconButton from '../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\nimport { LabelStringSet } from '../../../ui/Label';\nimport LeaveChannelModal from '../../ChannelSettings/components/LeaveChannel';\n\nexport default function ChannelPreviewAction({ onLeaveChannel }) {\n  const parentRef = useRef(null);\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div\n      role=\"button\"\n      style={{ display: 'inline-block' }}\n      onKeyDown={(e) => { e.stopPropagation(); }}\n      tabIndex={0}\n      onClick={(e) => { e.stopPropagation(); }}\n    >\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            onClick={toggleDropdown}\n            height=\"32px\"\n            width=\"32px\"\n          >\n            <Icon\n              type={IconTypes.MORE}\n              fillColor={IconColors.PRIMARY}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem\n              onClick={() => {\n                setShowModal(true);\n                closeDropdown();\n              }}\n            >\n              {LabelStringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      {\n        showModal && (\n          <LeaveChannelModal\n            onCloseModal={() => setShowModal(false)}\n            onLeaveChannel={onLeaveChannel}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nChannelPreviewAction.propTypes = {\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes } from '../Icon';\n\nexport default function Loader({\n  children,\n  className,\n  width,\n  height,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-loader'].join(' ')}\n      style={{\n        width: typeof width === 'string' ? width : `${width}px`,\n        height: typeof height === 'string' ? height : `${height}px`,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  children: PropTypes.element,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nLoader.defaultProps = {\n  children: <Icon\n    type={IconTypes.SPINNER}\n    width=\"26px\"\n    height=\"26px\"\n  />,\n  className: '',\n  width: '26px',\n  height: '26px',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes } from '../Icon';\nimport Loader from '../Loader';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../Label';\nimport PlaceHolderTypes from './type';\n\nexport default function PlaceHolder({\n  className,\n  type,\n  retryToConnect,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-place-holder'].join(' ')}>\n      {\n        type === PlaceHolderTypes.LOADING\n          ? (\n            <Loader width=\"48px\" height=\"48px\">\n              <Icon type={IconTypes.SPINNER} width=\"48px\" height=\"48px\" />\n            </Loader>\n          )\n          : null\n      }\n      {\n        type === PlaceHolderTypes.NO_CHANNELS || type === PlaceHolderTypes.WRONG\n          ? (\n            <div className=\"sendbird-place-holder__body\">\n              <Icon className=\"sendbird-place-holder__body__icon\" type={IconTypes.CHAT} width=\"64px\" height=\"64px\" />\n              <Label className=\"sendbird-place-holder__body__text\" type={LabelTypography.BODY_1} color={LabelColors.ONBACKGROUND_2}>\n                {\n                  type === PlaceHolderTypes.NO_CHANNELS\n                    ? LabelStringSet.PLACE_HOLDER__NO_CHANNEL\n                    : LabelStringSet.PLACE_HOLDER__WRONG\n                }\n              </Label>\n              {\n                retryToConnect\n                  ? (\n                    <div\n                      className=\"sendbird-place-holder__body__reconnect\"\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={retryToConnect}\n                      onKeyPress={retryToConnect}\n                    >\n                      <Icon className=\"sendbird-place-holder__body__reconnect__icon\" type={IconTypes.REFRESH} width=\"20px\" height=\"20px\" />\n                      <Label className=\"sendbird-place-holder__body__reconnect__text\" type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n                        {LabelStringSet.PLACE_HOLDER__RETRY_TO_CONNECT}\n                      </Label>\n                    </div>\n                  )\n                  : null\n              }\n            </div>\n          )\n          : null\n      }\n    </div>\n  );\n}\n\nPlaceHolder.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(PlaceHolderTypes)),\n    PropTypes.string,\n  ]).isRequired,\n  retryToConnect: PropTypes.func,\n};\n\nPlaceHolder.defaultProps = {\n  className: '',\n  retryToConnect: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Placeholder from '../../../ui/PlaceHolder';\n\nexport default function ChannelsPlaceholder({\n  type,\n}) {\n  return (\n    <div className=\"sendbird-channel-list\">\n      <Placeholder type={type} />\n    </div>\n  );\n}\n\nChannelsPlaceholder.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n","import * as channelActions from './dux/actionTypes';\n\nconst createEventHandler = ({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n}) => {\n  const ChannelHandler = new sdk.ChannelHandler();\n\n  ChannelHandler.onChannelChanged = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_CHANGED,\n      payload: channel,\n    });\n  };\n  ChannelHandler.onChannelDeleted = (channelUrl) => {\n    channelListDispatcher({\n      type: channelActions.ON_CHANNEL_DELETED,\n      payload: channelUrl,\n    });\n  };\n  ChannelHandler.onUserJoined = (channel) => {\n    if (channel.lastMessage) {\n      channelListDispatcher({\n        type: channelActions.ON_USER_JOINED,\n        payload: channel,\n      });\n    }\n  };\n  ChannelHandler.onUserLeft = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_USER_LEFT,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onReadStatus = (channel) => {\n    channelListDispatcher({\n      type: channelActions.ON_READ_RECEIPT_UPDATED,\n      payload: channel,\n    });\n  };\n\n  ChannelHandler.onDeliveryReceiptUpdated = (channel) => {\n    if (channel.lastMessage) {\n      channelListDispatcher({\n        type: channelActions.ON_DELIVERY_RECEIPT_UPDATED,\n        payload: channel,\n      });\n    }\n  };\n\n  ChannelHandler.onMessageUpdated = (channel, message) => {\n    if (channel.lastMessage.isEqual(message)) {\n      channelListDispatcher({\n        type: channelActions.ON_LAST_MESSAGE_UPDATED,\n        payload: channel,\n      });\n    }\n  };\n\n  sdk.addChannelHandler(sdkChannelHandlerId, ChannelHandler);\n};\n\n/**\n * Setup event listener\n * create channel source query\n * addloading screen\n */\nfunction setupChannelList({\n  sdk,\n  sdkChannelHandlerId,\n  channelListDispatcher,\n  setChannelSource,\n  onChannelSelect,\n}) {\n  createEventHandler({\n    sdk,\n    channelListDispatcher,\n    sdkChannelHandlerId,\n  });\n\n  const channelListQuery = sdk.GroupChannel.createMyGroupChannelListQuery();\n  channelListQuery.includeEmpty = false;\n  channelListQuery.order = 'latest_last_message'; // 'chronological', 'latest_last_message', 'channel_name_alphabetical', and 'metadata_value_alphabetical'\n  channelListQuery.limit = 20; // The value of pagination limit could be set up to 100.\n\n  setChannelSource(channelListQuery);\n\n  channelListDispatcher({\n    type: channelActions.INIT_CHANNELS_START,\n  });\n\n  if (channelListQuery.hasNext) {\n    channelListQuery.next((response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let channelList = response;\n      let err = error;\n      if (swapParams) {\n        channelList = error;\n        err = response;\n      }\n      if (err) {\n        channelListDispatcher({\n          type: channelActions.INIT_CHANNELS_FAILURE,\n        });\n        return;\n      }\n      // select first channel\n      onChannelSelect(channelList[0]);\n      channelListDispatcher({\n        type: channelActions.INIT_CHANNELS_SUCCESS,\n        payload: channelList,\n      });\n      if (channelList && typeof channelList.forEach === 'function') {\n        channelList.forEach((c) => c.markAsDelivered());\n      }\n    });\n  }\n}\n\nexport default setupChannelList;\n","import React, { useEffect, useState, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport * as channelListActions from './dux/actionTypes';\nimport channelListInitialState from './dux/initialState';\nimport channelListReducers from './dux/reducers';\n\nimport ChannelPreview from '../../ui/ChannelPreview';\nimport ChannelHeader from '../../ui/ChannelHeader';\nimport PlaceholderTypes from '../../ui/PlaceHolder/type';\n\nimport AddChannel from './components/AddChannel';\nimport ChannelPreviewAction from './components/ChannelPreviewAction';\nimport PlaceHolder from './components/Placeholder';\n\nimport setupChannelList from './utils';\nimport { uuidv4 } from '../../utils/uuid';\n\nimport './index.scss';\n\nconst noop = () => { };\n\nfunction ChannelList(props) {\n  const {\n    stores: { sdkStore = {}, userStore = {} },\n    config: { userId, userListQuery },\n    renderChannelPreview,\n    onChannelSelect,\n  } = props;\n  const { sdk = {} } = sdkStore;\n  const sdkError = sdkStore.error;\n  const { user = {} } = userStore;\n  const sdkIntialized = sdkStore.initialized;\n  const [channelListStore, channelListDispatcher] = useReducer(\n    channelListReducers,\n    channelListInitialState,\n  );\n  const [channelSource, setChannelSource] = useState({});\n  const [sdkChannelHandlerId, setSdkChannelHandlerId] = useState(null);\n\n  const { loading, currentChannel } = channelListStore;\n\n  useEffect(() => {\n    setSdkChannelHandlerId(uuidv4);\n    if (sdkIntialized) {\n      setupChannelList({\n        sdk,\n        sdkChannelHandlerId,\n        channelListDispatcher,\n        setChannelSource,\n        onChannelSelect,\n      });\n    } else {\n      // remove previous channelHandlers\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n      // remove channelSource\n      setChannelSource({});\n      // cleanup\n      channelListDispatcher({\n        type: channelListActions.RESET_CHANNEL_LIST,\n      });\n    }\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(sdkChannelHandlerId);\n      }\n    };\n  }, [sdkIntialized]);\n\n  const { allChannels } = channelListStore;\n\n  useEffect(() => {\n    if (!sdk || !sdk.GroupChannel) { return; }\n    sdk.GroupChannel.getChannel(currentChannel, (groupChannel) => {\n      if (groupChannel) {\n        onChannelSelect(groupChannel);\n      } else {\n        onChannelSelect(null);\n      }\n    });\n  }, [currentChannel]);\n\n  return (\n    <div className=\"sendbird-channel-list\">\n      <div className=\"sendbird-channel-list__header\">\n        <ChannelHeader\n          title=\"Channels\"\n          iconButton={(\n            <AddChannel\n              userListQuery={userListQuery}\n              sdk={sdk}\n              channelListDispatcher={channelListDispatcher}\n              userId={userId}\n            />\n          )}\n        />\n      </div>\n      <div\n        className=\"sendbird-channel-list__body\"\n        onScroll={(e) => {\n          const fetchMore = e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight;\n          if (fetchMore && channelSource.hasNext) {\n            channelListDispatcher({\n              type: channelListActions.FETCH_CHANNELS_START,\n            });\n            channelSource.next((response, error) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let channelList = response;\n              let err = error;\n              if (swapParams) {\n                channelList = error;\n                err = response;\n              }\n              if (err) {\n                channelListDispatcher({\n                  type: channelListActions.FETCH_CHANNELS_FAILURE,\n                  payload: channelList,\n                });\n                return;\n              }\n              channelListDispatcher({\n                type: channelListActions.FETCH_CHANNELS_SUCCESS,\n                payload: channelList,\n              });\n              if (channelList && typeof channelList.forEach === 'function') {\n                channelList.forEach((c) => c.markAsDelivered());\n              }\n            });\n          }\n        }}\n      >\n        {\n          (sdkError) && (\n            <PlaceHolder type={PlaceholderTypes.WRONG} />\n          )\n        }\n        <div>\n          {\n            allChannels && allChannels.map((channel, idx) => {\n              const onLeaveChannel = (c, cb) => {\n                c.leave()\n                  .then((res) => {\n                    cb(res, null);\n                    channelListDispatcher({\n                      type: channelListActions.LEAVE_CHANNEL_SUCCESS,\n                      payload: channel.url,\n                    });\n                  })\n                  .catch((err) => {\n                    cb(null, err);\n                  });\n              };\n\n              const onClick = () => {\n                onChannelSelect(channel);\n                channelListDispatcher({\n                  type: channelListActions.SET_CURRENT_CHANNEL,\n                  payload: channel.url,\n                });\n              };\n\n              return (\n                (renderChannelPreview)\n                  ? (\n                    // eslint-disable-next-line\n                    <div key={channel.url} onClick={onClick}>\n                      {renderChannelPreview({ channel, onLeaveChannel })}\n                    </div>\n                  )\n                  : (\n                    <ChannelPreview\n                      key={channel.url}\n                      tabIndex={idx}\n                      onClick={onClick}\n                      channel={channel}\n                      currentUser={user}\n                      isActive={channel.url === currentChannel}\n                      // todo - potential performance hit refactor\n                      ChannelAction={(\n                        <ChannelPreviewAction\n                          onLeaveChannel={() => onLeaveChannel(channel)}\n                        />\n                      )}\n                    />\n                  )\n              );\n            })\n          }\n        </div>\n        {\n          (!sdkIntialized || loading) && (\n            <PlaceHolder type={PlaceholderTypes.LOADING} />\n          )\n        }\n        {\n          //  placeholder\n          (!allChannels || allChannels.length === 0) && (\n            <PlaceHolder type={PlaceholderTypes.NO_CHANNELS} />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nChannelList.propTypes = {\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      initialized: PropTypes.bool,\n    }),\n    userStore: PropTypes.shape({\n      user: PropTypes.shape({}),\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n    userListQuery: PropTypes.func,\n  }).isRequired,\n  renderChannelPreview: PropTypes.element,\n  onChannelSelect: PropTypes.func,\n};\n\nChannelList.defaultProps = {\n  renderChannelPreview: null,\n  onChannelSelect: noop,\n};\n\nexport default withSendbirdContext(ChannelList);\n","export const RESET_MESSAGES = 'RESET_MESSAGES';\n\nexport const GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nexport const GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nexport const GET_PREV_MESSAGES_FAILURE = 'GET_PREV_MESSAGES_FAILURE';\n\nexport const SEND_MESSAGEGE_START = 'SEND_MESSAGEGE_START';\nexport const SEND_MESSAGEGE_SUCESS = 'SEND_MESSAGEGE_SUCESS';\nexport const SEND_MESSAGEGE_FAILURE = 'SEND_MESSAGEGE_FAILURE';\n\nexport const ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nexport const ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nexport const ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\n\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nexport const MARK_AS_READ = 'MARK_AS_READ';\n","export default {\n  initialized: false,\n  loading: false,\n  allMessages: [],\n  currentChannel: null,\n  hasMore: false,\n  unreadCount: 0,\n  unreadSince: null,\n};\n","const isEmpty = (val) => (val === null || val === undefined);\n\n// Some Ids return string and number inconsistently\n// only use to comapre IDs\nexport default function (a, b) {\n  if (isEmpty(a) || isEmpty(b)) {\n    return false;\n  }\n  const aString = a.toString();\n  const bString = b.toString();\n  return aString === bString;\n}\n","import moment from 'moment';\n\nimport * as actionTypes from './actionTypes';\nimport initialState from './initialState';\n\nimport compareIds from '../../../utils/compareIds';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actionTypes.RESET_MESSAGES:\n      return initialState;\n    case actionTypes.GET_PREV_MESSAGES_START:\n      return {\n        ...state,\n        loading: true,\n      };\n    case actionTypes.GET_PREV_MESSAGES_SUCESS:\n      return {\n        ...state,\n        loading: false,\n        initialized: true,\n        hasMore: action.payload.hasMore,\n        allMessages: [\n          ...action.payload.messages,\n          ...state.allMessages,\n        ],\n      };\n    case actionTypes.SEND_MESSAGEGE_START:\n      return {\n        ...state,\n        allMessages: [\n          ...state.allMessages,\n          { ...action.payload },\n        ],\n      };\n    case actionTypes.SEND_MESSAGEGE_SUCESS:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, action.payload.reqId)\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.SEND_MESSAGEGE_FAILURE:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.reqId, action.payload.reqId)\n            ? { ...action.payload, failed: true }\n            : m\n        )),\n      };\n    case actionTypes.SET_CURRENT_CHANNEL: {\n      return {\n        ...state,\n        currentChannel: action.payload,\n      };\n    }\n    case actionTypes.ON_MESSAGE_RECEIVED: {\n      const { channel, message } = action.payload;\n      const { currentChannel, unreadCount, unreadSince } = state;\n      if (!compareIds(channel.url, currentChannel)) {\n        return state;\n      }\n      // Excluded overlapping messages\n      if (!(state.allMessages.map((msg) => msg.messageId).indexOf(message.messageId) < 0)) {\n        return state;\n      }\n      if (message.isAdminMessage && message.isAdminMessage()) {\n        return {\n          ...state,\n          allMessages: [...state.allMessages, message],\n        };\n      }\n      return {\n        ...state,\n        unreadCount: unreadCount + 1,\n        unreadSince: (unreadCount === 0)\n          ? moment().format('LT MMM DD')\n          : unreadSince,\n        allMessages: [...state.allMessages, message],\n      };\n    }\n    case actionTypes.ON_MESSAGE_UPDATED:\n      return {\n        ...state,\n        allMessages: state.allMessages.map((m) => (\n          compareIds(m.messageId, action.payload.messageId)\n            ? action.payload\n            : m\n        )),\n      };\n    case actionTypes.MARK_AS_READ:\n      return {\n        ...state,\n        unreadCount: 0,\n        unreadSince: null,\n      };\n    case actionTypes.ON_MESSAGE_DELETED:\n      return {\n        ...state,\n        allMessages: state.allMessages.filter((m) => (\n          !compareIds(m.messageId, action.payload)\n        )),\n      };\n    default:\n      return state;\n  }\n}\n","import * as messageActions from './actionTypes';\n\nexport default ({ messagesDispatcher, sdk, uniqueId }) => {\n  if (!sdk || !sdk.ChannelHandler) { return; }\n  const ChannelHandler = new sdk.ChannelHandler();\n\n  ChannelHandler.onMessageReceived = (channel, message) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_RECEIVED,\n      payload: { channel, message },\n    });\n  };\n\n  ChannelHandler.onMessageUpdated = (_, message) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_UPDATED,\n      payload: message,\n    });\n  };\n\n  ChannelHandler.onMessageDeleted = (_, messageId) => {\n    messagesDispatcher({\n      type: messageActions.ON_MESSAGE_DELETED,\n      payload: messageId,\n    });\n  };\n\n  // Add this channel event handler to the SendBird object.\n  sdk.addChannelHandler(uniqueId, ChannelHandler);\n};\n","import Moment from 'moment';\n\nexport const getMessageCreatedAt = (message) => Moment(message.createdAt).format('LT');\n\nexport const getSenderName = (message) => (\n  message.sender && (\n    message.sender.friendName\n    || message.sender.nickname\n    || message.sender.userId\n  )\n);\n\nexport const getSenderProfileUrl = (message) => message.sender && message.sender.profileUrl;\n\nexport default {\n  getMessageCreatedAt,\n  getSenderName,\n  getSenderProfileUrl,\n};\n","const MessageStatusType = {\n  PENDING: 'PENDING',\n  SENT: 'SENT',\n  DELIVERED: 'DELIVERED',\n  READ: 'READ',\n  FAILED: 'FAILED',\n};\n\nexport default MessageStatusType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../Label';\nimport Loader from '../Loader';\nimport MessageStatusType from './type';\n\nimport { getMessageCreatedAt } from '../../utils/utils';\n\nconst MessageStatusTypes = MessageStatusType;\nexport { MessageStatusTypes };\nexport default function MessageStatus({\n  message,\n  status,\n  className,\n  onClickEvents,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n\n  const label = () => {\n    switch (status) {\n      case MessageStatusType.PENDING: {\n        return null;\n      }\n      case MessageStatusType.SENT:\n      case MessageStatusType.DELIVERED:\n      case MessageStatusType.READ: {\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {getMessageCreatedAt(message)}\n          </Label>\n        );\n      }\n      case MessageStatusType.FAILED: {\n        // check onClickEvents\n        return (\n          <Label\n            className=\"sendbird-message-status__text\"\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ERROR}\n          >\n            {LabelStringSet.MESSAGE_STATUS__SENDING_FAILED}\n            <span\n              className=\"sendbird-message-status__text__try-again\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={onClickEvents[0]}\n              onKeyPress={onClickEvents[0]}\n            >\n              {LabelStringSet.MESSAGE_STATUS__TRY_AGAIN}\n            </span>\n            {LabelStringSet.MESSAGE_STATUS__OR}\n            <span\n              className=\"sendbird-message-status__text__delete\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={onClickEvents[1]}\n              onKeyPress={onClickEvents[1]}\n            >\n              {LabelStringSet.MESSAGE_STATUS__DELETE}\n            </span>\n          </Label>\n        );\n      }\n      default: return null;\n    }\n  };\n\n  const icon = {\n    PENDING: (\n      <Loader className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\">\n        <Icon type={IconTypes.SPINNER} width=\"16px\" height=\"16px\" />\n      </Loader>\n    ),\n    SENT: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.SENT} fillColor={IconColors.SENT} />,\n    DELIVERED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.DELIVERED} fillColor={IconColors.SENT} />,\n    READ: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.READ} fillColor={IconColors.READ} />,\n    FAILED: <Icon className=\"sendbird-message-status__icon\" width=\"16px\" height=\"16px\" type={IconTypes.ERROR} />,\n  };\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message-status'].join(' ')}>\n      {label(status)}\n      {icon[status]}\n    </div>\n  );\n}\n\nMessageStatus.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  status: PropTypes.string,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onClickEvents: PropTypes.arrayOf(PropTypes.func),\n};\n\nMessageStatus.defaultProps = {\n  message: null,\n  status: '',\n  className: '',\n  onClickEvents: [() => { }, () => { }],\n};\n","export const copyToClipboard = (text) => {\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport default copyToClipboard;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { getMessageCreatedAt, getSenderProfileUrl, getSenderName } from '../../utils/utils';\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\n\nimport { copyToClipboard } from './util';\n\nfunction OutgoingUserMessage({\n  message,\n  showEdit,\n  showRemove,\n  status,\n}) {\n  // TODO: when message.requestState is succeeded, consider if it's SENT or DELIVERED\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-user-message--outgoing\">\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            className=\"sendbird-user-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"24px\" height=\"24px\" type={IconTypes.MORE} fillColor={IconColors.PRIMARY} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown} openLeft>\n            <MenuItem\n              onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n            >\n              Copy\n            </MenuItem>\n            <MenuItem\n              onClick={() => { showEdit(true); closeDropdown(); }}\n            >\n              Edit\n            </MenuItem>\n            <MenuItem\n              onClick={() => { showRemove(true); closeDropdown(); }}\n            >\n              Delete\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      <div className=\"sendbird-user-message__tooltip\">\n        <Label\n          className=\"sendbird-user-message__tooltip__text\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {message.message}\n        </Label>\n      </div>\n      <div className=\"sendbird-user-message__status\">\n        <MessageStatus message={message} status={status} />\n      </div>\n    </div>\n  );\n}\n\nfunction IncomingUserMessage({\n  message,\n}) {\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-user-message--incoming\">\n      <Avatar\n        className=\"sendbird-user-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-user-message__sender-name\"\n        type={LabelTypography.CAPTION_2}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-user-message__tooltip\">\n        <Label\n          className=\"sendbird-user-message__tooltip__text\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {message.message}\n        </Label>\n      </div>\n      <Label\n        className=\"sendbird-user-message__sent-at\"\n        type={LabelTypography.CAPTION_3}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            className=\"sendbird-user-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"24px\" height=\"24px\" type={IconTypes.MORE} fillColor={IconColors.PRIMARY} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown}>\n            <MenuItem\n              onClick={() => { copyToClipboard(message.message); closeDropdown(); }}\n            >\n              Copy\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n    </div>\n  );\n}\n\n\nIncomingUserMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n};\n\nIncomingUserMessage.defaultProps = {\n  message: {},\n};\n\nOutgoingUserMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  showEdit: PropTypes.func,\n  showRemove: PropTypes.func,\n  status: PropTypes.string.isRequired,\n};\n\nOutgoingUserMessage.defaultProps = {\n  message: {},\n  showEdit: () => { },\n  showRemove: () => { },\n};\n\nexport {\n  OutgoingUserMessage,\n  IncomingUserMessage,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { OutgoingUserMessage, IncomingUserMessage } from '../UserMessage';\n\nconst noop = () => {};\n\nexport default function Message(props) {\n  const {\n    isByMe,\n    message,\n    className,\n    showEdit,\n    showRemove,\n    status,\n  } = props;\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  injectingClassName.push(`sendbird-message${isByMe ? '--outgoing' : '--incoming'}`);\n\n  if (!message) return null;\n\n  return (\n    <div className={[...injectingClassName, 'sendbird-message'].join(' ')}>\n      {\n        isByMe\n          ? (\n            <OutgoingUserMessage\n              message={message}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              status={status}\n            />\n          )\n          : <IncomingUserMessage message={message} />\n        // file messages should be here\n      }\n    </div>\n  );\n}\n\nMessage.propTypes = {\n  isByMe: PropTypes.bool,\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  showEdit: PropTypes.func,\n  status: PropTypes.string,\n  showRemove: PropTypes.func,\n};\n\nMessage.defaultProps = {\n  isByMe: false,\n  className: '',\n  showEdit: noop,\n  showRemove: noop,\n  status: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelColors, LabelTypography } from '../Label';\n\nexport default function AdminMessage({\n  className,\n  message,\n}) {\n  if (!message.messageType || message.messageType !== 'admin') { // change to use message.isAdminMessage()\n    return null;\n  }\n\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div className={[...injectingClassName, 'sendbird-admin-message'].join(' ')}>\n      <Label className=\"sendbird-admin-message__text\" type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n        {message.message}\n      </Label>\n    </div>\n  );\n}\n\nAdminMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nAdminMessage.defaultProps = {\n  message: {},\n  className: '',\n};\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp', // not supported in IE\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const isImage = (type) => SUPPORTED_MIMES.IMAGE.includes(type);\nexport const isVideo = (type) => SUPPORTED_MIMES.VIDEO.includes(type);\nexport const unSupported = (type) => !(isImage(type) || isVideo(type));\n\nexport default SUPPORTED_MIMES;\n","import React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes } from '../Icon';\nimport MessageStatus, { MessageStatusTypes } from '../MessageStatus';\nimport {\n  isImage,\n  isVideo,\n  unSupported,\n} from '../FileViewer/types';\nimport {\n  getSenderName,\n  getSenderProfileUrl,\n} from '../../utils/utils';\n\nconst noop = () => { };\n\nexport default function ThumbnailMessage({\n  message = {},\n  isByMe,\n  onClick,\n  showRemove,\n  status,\n}) {\n  const {\n    type,\n    url,\n    name = '',\n  } = message;\n  const parentRef = useRef(null);\n  const [imgLoaded, setImgLoaded] = useState(false);\n  const isMoreActive = (\n    status === MessageStatusTypes.SENT\n    || status === MessageStatusTypes.DELIVERED\n    || status === MessageStatusTypes.READ\n  );\n  return (\n    <div\n      className={[\n        'sendbird-thumbnail',\n        (!isByMe ? 'sendbird-thumbnail--incoming' : ''),\n        (!imgLoaded ? 'sendbird-thumbnail--loading' : ''),\n      ].join(' ')}\n    >\n      {\n        !isByMe && (\n          <>\n            <Avatar\n              className=\"sendbird-thumbnail__avatar\"\n              src={getSenderProfileUrl(message)}\n              width=\"28px\"\n              height=\"28px\"\n            />\n            <Label\n              className=\"sendbird-thumbnail__sender-name\"\n              type={LabelTypography.CAPTION_2}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {getSenderName(message) || ''}\n            </Label>\n          </>\n        )\n      }\n      <div className=\"sendbird-thumbnail__body\">\n        {\n          isByMe && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <IconButton\n                  ref={parentRef}\n                  className=\"sendbird-thumbnail__more\"\n                  width=\"32px\"\n                  height=\"32px\"\n                  onClick={toggleDropdown}\n                >\n                  <Icon width=\"24px\" height=\"24px\" type={IconTypes.MORE} />\n                </IconButton>\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems parentRef={parentRef} closeDropdown={closeDropdown} openLeft>\n                  <MenuItem onClick={() => { showRemove(true); closeDropdown(); }}>\n                    Delete\n                  </MenuItem>\n                </MenuItems>\n              )}\n            />\n          )\n        }\n        <div\n          onClick={isMoreActive ? () => onClick(true) : () => { }}\n          onKeyDown={isMoreActive ? () => onClick(true) : () => { }}\n          tabIndex={0}\n          role=\"button\"\n          className=\"sendbird-thumbnail__wrap\"\n        >\n          {\n            isVideo(type) && (\n              <>\n                {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n                <video\n                  className=\"sendbird-thumbnail__video\"\n                  onLoadedData={() => setImgLoaded(true)}\n                >\n                  <source src={url} type={type} />\n                </video>\n                <Icon\n                  className=\"sendbird-thumbnail__video-icon\"\n                  width=\"56px\"\n                  height=\"56px\"\n                  type={IconTypes.PLAY}\n                />\n              </>\n            )\n          }\n          {\n            isImage(type) && (\n              <img\n                onLoad={() => setImgLoaded(true)}\n                src={url}\n                alt={name}\n                className=\"sendbird-thumbnail__img\"\n              />\n            )\n          }\n          {\n            unSupported(type) && (\n              <div className=\"sendbird-thumbnail__other\">\n                Unknown type\n              </div>\n            )\n          }\n          <div className=\"sendbird-thumbnail__wrap-overlay\" />\n        </div>\n        {isByMe && (\n          <div className=\"sendbird-thumbnail__status\">\n            <MessageStatus message={message} status={status} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nThumbnailMessage.propTypes = {\n  message: PropTypes.shape({\n    type: PropTypes.string,\n    url: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  status: PropTypes.string,\n  isByMe: PropTypes.bool,\n  onClick: PropTypes.func,\n  showRemove: PropTypes.func,\n};\n\nThumbnailMessage.defaultProps = {\n  isByMe: false,\n  onClick: noop,\n  showRemove: noop,\n  status: '',\n};\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  color,\n  children,\n  className,\n  onClick,\n  notUnderline,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={[\n        ...injectingClassName,\n        changeColorToClassName(color),\n        (notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton'),\n      ].join(' ')}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  color: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onClick: PropTypes.func,\n  notUnderline: PropTypes.bool,\n};\n\nTextButton.defaultProps = {\n  color: Colors.ONBACKGROUND_1,\n  className: '',\n  onClick: () => { },\n  notUnderline: false,\n};\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes } from '../Icon';\nimport TextButton from '../TextButton';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport MessageStatus from '../MessageStatus';\nimport ContextMenu, { MenuItem, MenuItems } from '../ContextMenu';\n\nimport { getSenderProfileUrl, getSenderName, getMessageCreatedAt } from '../../utils/utils';\nimport { truncate } from './utils';\n\nconst MAX_TRUNCATE_LENGTH = 40;\nconst noop = () => { };\n\nfunction checkFileType(fileUrl) {\n  let result = null;\n  const imageFile = /(\\.gif|\\.jpg|\\.jpeg|\\.txt|\\.pdf)$/i;\n  const audioFile = /(\\.mp3)$/i;\n  if (imageFile.test(fileUrl)) {\n    result = IconTypes.FILE_DOCUMENT;\n  } else if (audioFile.test(fileUrl)) {\n    result = IconTypes.FILE_AUDIO;\n  }\n  return result;\n}\n\nexport function OutgoingFileMessage({\n  message,\n  status,\n  showRemove,\n}) {\n  const {\n    url,\n  } = message;\n  const openFileUrl = () => { window.open(url); };\n  const parentRef = useRef(null);\n  return (\n    <div className=\"sendbird-file-message__outgoing\">\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <IconButton\n            ref={parentRef}\n            className=\"sendbird-file-message__more\"\n            width=\"32px\"\n            height=\"32px\"\n            onClick={toggleDropdown}\n          >\n            <Icon width=\"24px\" height=\"24px\" type={IconTypes.MORE} />\n          </IconButton>\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems parentRef={parentRef} closeDropdown={closeDropdown} openLeft>\n            <MenuItem onClick={() => { showRemove(true); closeDropdown(); }}>\n              Delete\n            </MenuItem>\n          </MenuItems>\n        )}\n      />\n      <div className=\"sendbird-file-message__tooltip\">\n        {\n          checkFileType(url)\n            ? (\n              <Icon\n                className=\"sendbird-file-message__tooltip__icon\"\n                width=\"28px\"\n                height=\"28px\"\n                type={checkFileType(url)}\n              />\n            )\n            : null\n        }\n        <TextButton\n          className=\"sendbird-file-message__tooltip__text\"\n          onClick={openFileUrl}\n        >\n          <Label\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n          </Label>\n        </TextButton>\n      </div>\n      <div className=\"sendbird-file-message__status\">\n        <MessageStatus message={message} status={status} />\n      </div>\n    </div>\n  );\n}\n\nexport function IncomingFileMessage({\n  message,\n}) {\n  const openFileUrl = () => { window.open(message.url); };\n  return (\n    <div className=\"sendbird-file-message__incoming\">\n      <Avatar\n        className=\"sendbird-file-message__avatar\"\n        src={getSenderProfileUrl(message)}\n        width=\"28px\"\n        height=\"28px\"\n      />\n      <Label\n        className=\"sendbird-file-message__sender-name\"\n        type={LabelTypography.CAPTION_2}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getSenderName(message)}\n      </Label>\n      <div className=\"sendbird-file-message__tooltip\">\n        {\n          checkFileType(message.url)\n            ? (\n              <Icon\n                className=\"sendbird-file-message__tooltip__icon\"\n                width=\"28px\"\n                height=\"28px\"\n                type={checkFileType(message.url)}\n              />\n            )\n            : null\n        }\n        <TextButton\n          className=\"sendbird-file-message__tooltip__text\"\n          onClick={openFileUrl}\n        >\n          <Label\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {truncate(message.url, MAX_TRUNCATE_LENGTH)}\n          </Label>\n        </TextButton>\n      </div>\n      <Label\n        className=\"sendbird-file-message__sent-at\"\n        type={LabelTypography.CAPTION_3}\n        color={LabelColors.ONBACKGROUND_2}\n      >\n        {getMessageCreatedAt(message)}\n      </Label>\n    </div>\n  );\n}\n\nOutgoingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n  status: PropTypes.string,\n  showRemove: PropTypes.func,\n};\n\nOutgoingFileMessage.defaultProps = {\n  status: '',\n  showRemove: () => { },\n  message: {},\n};\n\nIncomingFileMessage.propTypes = {\n  message: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.array,\n    PropTypes.object,\n  ])),\n};\n\nIncomingFileMessage.defaultProps = {\n  message: {},\n};\n\nconst MessageSwitch = ({\n  message,\n  isByMe,\n  showRemove,\n  status,\n}) => (\n  <div className={`sendbird-file-message${isByMe ? '--outgoing' : '--incoming'}`}>\n    {\n      isByMe\n        ? (<OutgoingFileMessage message={message} showRemove={showRemove} status={status} />)\n        : (<IncomingFileMessage message={message} />)\n    }\n  </div>\n);\n\n\nMessageSwitch.propTypes = {\n  message: PropTypes.shape({}),\n  isByMe: PropTypes.bool,\n  showRemove: PropTypes.func,\n  status: PropTypes.string.isRequired,\n};\n\nMessageSwitch.defaultProps = {\n  message: {},\n  isByMe: false,\n  showRemove: noop,\n};\n\nexport default MessageSwitch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport default function DateSeparator({\n  className,\n  children,\n  separatorColor,\n}) {\n  const injectingClassName = (Array.isArray(className)) ? className : [className];\n  return (\n    <div\n      className={[...injectingClassName, 'sendbird-separator'].join(' ')}\n    >\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__left'].join(' ')} />\n      <div className=\"sendbird-separator__text\">{children}</div>\n      <div className={[`${changeColorToClassName(separatorColor)}--background-color`, 'sendbird-separator__right'].join(' ')} />\n    </div>\n  );\n}\n\nDateSeparator.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.element,\n  ]),\n  separatorColor: PropTypes.string,\n};\n\nDateSeparator.defaultProps = {\n  className: '',\n  children: (\n    <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n      Date Separator\n    </Label>\n  ),\n  separatorColor: Colors.ONBACKGROUND_4,\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport IconButton from '../IconButton';\nimport Button from '../Button';\nimport { Type, Size } from '../Button/type';\n\nimport Icon, { IconTypes } from '../Icon';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../Label';\n\n// import IconSend from '../../svgs/icon-send.svg';\n// import IconAttach from '../../svgs/icon-attach.svg';\n\nconst LINE_HEIGHT = 76;\nconst noop = () => { };\nconst KeyCode = {\n  SHIFT: 16,\n  ENTER: 13,\n};\n\nconst handleUploadFile = (callback) => (event) => {\n  if (event.target.files && event.target.files[0]) {\n    callback(event.target.files[0]);\n  }\n  // eslint-disable-next-line no-param-reassign\n  event.target.value = '';\n};\n\nconst MessageInput = React.forwardRef((props, ref) => {\n  const {\n    isEdit,\n    disabled,\n    value,\n    name,\n    placeholder,\n    maxLength,\n    onFileUpload,\n    onSendMessage,\n    onCancelEdit,\n    onStartTyping,\n  } = props;\n\n  const fileInputRef = useRef(null);\n  const [inputValue, setInputValue] = useState(value);\n  const [isShiftPressed, setIsShiftPressed] = useState(false);\n\n  const setHeight = () => {\n    const elem = ref.current;\n    const MAX_HEIGHT = window.document.body.offsetHeight * 0.6;\n    if (elem.scrollHeight >= LINE_HEIGHT) {\n      if (MAX_HEIGHT < elem.scrollHeight) {\n        elem.style.height = 'auto';\n        elem.style.height = `${MAX_HEIGHT}px`;\n      } else {\n        elem.style.height = 'auto';\n        elem.style.height = `${elem.scrollHeight}px`;\n      }\n    } else {\n      elem.style.height = '';\n    }\n  };\n\n  // after setHeight called twice, the textarea goes to the initialized\n  useEffect(() => {\n    setHeight();\n    return setHeight;\n  }, [inputValue]);\n\n  const sendMessage = () => {\n    if (inputValue) {\n      const trimmedInputValue = inputValue.trim();\n      if (isEdit) {\n        onSendMessage(name, trimmedInputValue, () => {\n          onCancelEdit();\n        });\n      } else {\n        onSendMessage(trimmedInputValue);\n        setInputValue('');\n      }\n    }\n  };\n\n  return (\n    <form\n      className={`${isEdit ? 'sendbird-message-input__edit' : ''}`}\n    >\n      <div\n        className={`\n          sendbird-message-input\n          ${disabled ? 'sendbird-message-input__disabled' : ''}\n        `}\n      >\n        <textarea\n          disabled={disabled}\n          ref={ref}\n          name={name}\n          value={inputValue}\n          className=\"sendbird-message-input--textarea\"\n          maxLength={maxLength}\n          onChange={(e) => {\n            setInputValue(e.target.value);\n            onStartTyping();\n          }}\n          onKeyDown={(e) => {\n            if (e.keyCode === KeyCode.SHIFT) {\n              setIsShiftPressed(true);\n            }\n            if (!isShiftPressed && e.keyCode === KeyCode.ENTER) {\n              e.preventDefault();\n              sendMessage();\n            }\n          }}\n          onKeyUp={(e) => {\n            if (e.keyCode === KeyCode.SHIFT) {\n              setIsShiftPressed(false);\n            }\n          }}\n        />\n        {/* placeholder */}\n        {!inputValue && (\n          <Label\n            type={LabelTypography.BODY_1}\n            color={LabelColors.ONBACKGROUND_3}\n            className=\"sendbird-message-input--placeholder\"\n          >\n            {placeholder || LabelStringSet.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER}\n          </Label>\n        )}\n        {/* upload icon */}\n        {\n          (!isEdit && !inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--attach\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={() => {\n                // todo: clear previous input\n                fileInputRef.current.click();\n              }}\n            >\n              <Icon type={IconTypes.ATTACH} width=\"20px\" height=\"20px\" />\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleUploadFile(onFileUpload)}\n                className=\"sendbird-message-input--attach-input\"\n              />\n            </IconButton>\n          )\n        }\n        {/* send icon */}\n        {\n          (!isEdit && inputValue) && (\n            <IconButton\n              className=\"sendbird-message-input--send\"\n              height=\"32px\"\n              width=\"32px\"\n              onClick={sendMessage}\n            >\n              <Icon type={IconTypes.SEND} width=\"20px\" height=\"20px\" />\n            </IconButton>\n          )\n        }\n      </div>\n      {/* Edit */}\n      {\n        isEdit && (\n          <div className=\"sendbird-message-input--edit-action\">\n            <Button\n              className=\"sendbird-message-input--edit-action__cancel\"\n              type={Type.SECONDARY}\n              size={Size.SMALL}\n              onClick={onCancelEdit}\n            >\n              {LabelStringSet.BUTTON__CANCEL}\n            </Button>\n            <Button\n              className=\"sendbird-message-input--edit-action__save\"\n              type={Type.PRIMARY}\n              size={Size.SMALL}\n              onClick={() => {\n                if (inputValue) {\n                  const trimmedInputValue = inputValue.trim();\n                  onSendMessage(name, trimmedInputValue, () => {\n                    onCancelEdit();\n                  });\n                }\n              }}\n            >\n              {LabelStringSet.BUTTON__SAVE}\n            </Button>\n          </div>\n        )\n      }\n    </form>\n  );\n});\n\nMessageInput.propTypes = {\n  placeholder: PropTypes.string,\n  isEdit: PropTypes.bool,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  disabled: PropTypes.bool,\n  maxLength: PropTypes.number,\n  onFileUpload: PropTypes.func,\n  onSendMessage: PropTypes.func,\n  onStartTyping: PropTypes.func,\n  onCancelEdit: PropTypes.func,\n};\n\nMessageInput.defaultProps = {\n  value: '',\n  onSendMessage: noop,\n  name: 'sendbird-message-input',\n  isEdit: false,\n  disabled: false,\n  placeholder: '',\n  maxLength: 5000,\n  onFileUpload: noop,\n  onCancelEdit: noop,\n  onStartTyping: noop,\n};\n\nexport default MessageInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Icon, { IconTypes } from '../Icon';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\n\nimport { isImage, isVideo, unSupported } from './types';\n\nexport const FileViewerComponent = ({\n  profileUrl,\n  nickname,\n  type,\n  url,\n  name,\n  onClose,\n  onDelete,\n  isByMe,\n}) => (\n  <div className=\"sendbird-fileviewer\">\n    <div className=\"sendbird-fileviewer__header\">\n      <div className=\"sendbird-fileviewer__header-left\">\n        <div className=\"sendbird-fileviewer__header-avatar\">\n          <Avatar height=\"32px\" width=\"32px\" src={profileUrl} />\n        </div>\n        <Label\n          className=\"sendbird-fileviewer__header-filename\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {name}\n        </Label>\n        <Label\n          className=\"sendbird-fileviewer__header-sendername\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {nickname}\n        </Label>\n      </div>\n      <div className=\"sendbird-fileviewer__header-right\">\n        {\n          !unSupported(type) && (\n            <div className=\"sendbird-fileviewer__header-actions\">\n              <a\n                href={url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                className=\"sendbird-fileviewer__header-download\"\n              >\n                <Icon\n                  type={IconTypes.DOWNLOAD}\n                  height=\"24px\"\n                  width=\"24px\"\n                />\n              </a>\n              {\n                onDelete && isByMe && (\n                  <div className=\"sendbird-fileviewer__header-delete\">\n                    <Icon\n                      type={IconTypes.DELETE}\n                      height=\"24px\"\n                      width=\"24px\"\n                      onClick={onDelete}\n                    />\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n        <div className=\"sendbird-fileviewer__header-close\">\n          <Icon\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={onClose}\n          />\n        </div>\n      </div>\n    </div>\n    <div className=\"sendbird-fileviewer__content\">\n      {isVideo(type) && (\n        // eslint-disable-next-line jsx-a11y/media-has-caption\n        <video controls className=\"sendbird-fileviewer__video\">\n          <source src={url} type={type} />\n        </video>\n      )}\n      {\n        isImage(type) && (\n          <img\n            src={url}\n            alt={name}\n            className=\"sendbird-fileviewer__img\"\n          />\n        )\n      }\n      {\n        unSupported(type) && (\n          <div className=\"sendbird-fileviewer__unsupported\">\n            <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n              Unsupoprted message\n            </Label>\n          </div>\n        )\n      }\n    </div>\n  </div>\n);\n\nFileViewerComponent.propTypes = {\n  profileUrl: PropTypes.string.isRequired,\n  nickname: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewerComponent.defaultProps = {\n  isByMe: true,\n};\n\nexport default function FileViewer(props) {\n  const {\n    onClose,\n    message,\n    onDelete,\n    isByMe,\n  } = props;\n  const {\n    sender,\n    type,\n    url,\n    name = '',\n  } = message;\n  const { profileUrl, nickname = '' } = sender;\n  return createPortal(\n    (\n      <FileViewerComponent\n        profileUrl={profileUrl}\n        nickname={nickname}\n        type={type}\n        url={url}\n        name={name}\n        onClose={onClose}\n        onDelete={onDelete}\n        isByMe={isByMe}\n      />\n    ),\n    document.getElementById(MODAL_ROOT),\n  );\n}\n\nFileViewer.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  message: PropTypes.shape({\n    sender: PropTypes.shape({\n      profileUrl: PropTypes.string,\n      nickname: PropTypes.string,\n    }),\n    type: PropTypes.string,\n    url: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isByMe: PropTypes.bool,\n};\n\nFileViewer.defaultProps = {\n  isByMe: true,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\nimport { LabelStringSet } from '../../../ui/Label';\n\nconst RemoveMessage = (props) => {\n  const {\n    onCloseModal,\n    onDeleteMessage,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onDeleteMessage}\n      submitText=\"Delete\"\n      titleText={LabelStringSet.MODAL__DELETE_MESSAGE__TITLE}\n    />\n  );\n};\n\nRemoveMessage.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onDeleteMessage: PropTypes.func.isRequired,\n};\n\nexport default RemoveMessage;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Message from '../../../ui/Message';\nimport AdminMessage from '../../../ui/AdminMessage';\nimport ThumbnailMessage from '../../../ui/ThumbnailMessage';\nimport FileMessage from '../../../ui/FileMessage';\nimport DateSeparator from '../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport MessageInput from '../../../ui/MessageInput';\nimport FileViewer from '../../../ui/FileViewer';\nimport RemoveMessageModal from './RemoveMessage';\n\nimport { isImage, isVideo } from '../../../ui/FileViewer/types';\n\nexport default function MessageHoc({\n  message,\n  userId,\n  hasSeperator,\n  deleteMessage,\n  updateMessage,\n  status,\n}) {\n  const { sender = {} } = message;\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const editMessageInputRef = useRef(null);\n\n  const isByMe = (userId === sender.userId)\n    || (message.requestState === 'pending')\n    || (message.requestState === 'failed');\n\n  if (showEdit) {\n    return (\n      <MessageInput\n        isEdit\n        ref={editMessageInputRef}\n        name={message.messageId}\n        onSendMessage={updateMessage}\n        onCancelEdit={() => { setShowEdit(false); }}\n        value={message.message}\n      />\n    );\n  }\n  return (\n    <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n      {/* date-seperator */}\n      {\n        hasSeperator && (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {moment(message.createdAt).format('LL')}\n            </Label>\n          </DateSeparator>\n        )\n      }\n      {/* file message */}\n      {\n        ((message.isFileMessage && message.isFileMessage()) || message.messageType === 'file') && (\n          <>\n            {\n              isImage(message.type) || isVideo(message.type)\n                ? (\n                  <ThumbnailMessage\n                    message={message}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    onClick={setShowFileViewer}\n                    status={status}\n                  />\n                )\n                : (\n                  <FileMessage\n                    message={message}\n                    isByMe={isByMe}\n                    showRemove={setShowRemove}\n                    status={status}\n                  />\n                )\n            }\n          </>\n        )\n      }\n      {/* admin message */}\n      {\n        message.isAdminMessage && message.isAdminMessage() && (\n          <AdminMessage message={message} />\n        )\n      }\n      {/* user message */}\n      {\n        ((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user')\n        && (\n          <Message\n            message={message}\n            isByMe={isByMe}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            status={status}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            onCloseModal={() => setShowRemove(false)}\n            onDeleteMessage={() => {\n              deleteMessage(message, () => {\n                setShowRemove(false);\n              });\n            }}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            onClose={() => setShowFileViewer(false)}\n            message={message}\n            onDelete={() => {\n              deleteMessage(message, () => {\n                setShowFileViewer(false);\n              });\n            }}\n            isByMe={isByMe}\n          />\n        )\n      }\n    </div>\n  );\n}\n\nMessageHoc.propTypes = {\n  userId: PropTypes.string,\n  message: PropTypes.shape({\n    isFileMessage: PropTypes.func,\n    isAdminMessage: PropTypes.func,\n    isUserMessage: PropTypes.func,\n    isDateSeperator: PropTypes.func,\n    // should be a number, but there's a bug in SDK shich returns string\n    messageId: PropTypes.number,\n    type: PropTypes.string,\n    createdAt: PropTypes.number,\n    message: PropTypes.string,\n    requestState: PropTypes.string,\n    messageType: PropTypes.string,\n    sender: PropTypes.shape({ userId: PropTypes.string }),\n  }),\n  hasSeperator: PropTypes.bool,\n  deleteMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  status: PropTypes.string,\n};\n\nMessageHoc.defaultProps = {\n  userId: '',\n  message: {},\n  hasSeperator: false,\n  status: '',\n};\n","import MessageStatusType from '../../ui/MessageStatus/type';\n\nexport const scrollIntoLast = (selector, intialTry = 0) => {\n  const MAX_TRIES = 10;\n  const currentTry = intialTry;\n  if (currentTry > MAX_TRIES) {\n    return;\n  }\n  try {\n    const nodes = document.querySelectorAll(selector);\n    const last = nodes[nodes.length - 1];\n    last.scrollIntoView(false); /** alignToTop: false */\n  } catch (error) {\n    setTimeout(() => {\n      scrollIntoLast(selector, currentTry + 1);\n    }, 500 * currentTry);\n  }\n};\n\nexport const getParsedStatus = (message, currentGroupChannel) => {\n  if (message.requestState === 'failed') {\n    return MessageStatusType.FAILED;\n  }\n\n  if (message.requestState === 'pending') {\n    return MessageStatusType.PENDING;\n  }\n\n  if (message.requestState === 'succeeded') {\n    if (!currentGroupChannel) {\n      return MessageStatusType.SENT;\n    }\n\n    const unreadCount = currentGroupChannel.getReadReceipt(message);\n    if (unreadCount === 0) {\n      return MessageStatusType.READ;\n    }\n\n    const isDelivered = currentGroupChannel.getDeliveryReceipt(message) === 0;\n    if (isDelivered) {\n      return MessageStatusType.DELIVERED;\n    }\n\n    return MessageStatusType.SENT;\n  }\n\n  return null;\n};\n\nexport default getParsedStatus;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport './conversation-scroll.scss';\nimport * as messageActionTypes from '../dux/actionTypes';\n\nimport MessageHOC from './MessageHOC';\nimport { getParsedStatus } from '../utils';\n\nexport default class ConversationScroll extends Component {\n  onScroll = (e) => {\n    const {\n      scrollRef,\n      hasMore,\n      messagesDispatcher,\n      messageSource,\n      currentGroupChannel,\n      swapParams,\n    } = this.props;\n\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n    if (scrollTop === 0) {\n      if (!hasMore) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll('.sendbird-msg--scroll-ref');\n      const first = nodes[0];\n      messageSource.load((response, err) => {\n        let messages = response;\n        let error = err;\n        if (swapParams) {\n          messages = error;\n          error = response;\n        }\n        if (error) {\n          return;\n        }\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n          payload: {\n            messages,\n            hasMore: messageSource.hasMore,\n          },\n        });\n        setTimeout(() => {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          first.scrollIntoView();\n        });\n      });\n    }\n\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n        });\n        currentGroupChannel.markAsRead();\n      }\n    }, 500);\n  }\n\n  render() {\n    const {\n      scrollRef,\n      initialized,\n      allMessages,\n      userId,\n      deleteMessage,\n      updateMessage,\n      readStatus,\n      currentGroupChannel,\n      renderChatItem,\n    } = this.props;\n    return (\n      <div className=\"sendbird-conversation__messages\">\n        <div\n          ref={scrollRef}\n          className=\"sendbird-conversation__scroll-container\"\n          onScroll={this.onScroll}\n        >\n          <div className=\"sendbird-conversation__padding\" />\n          <div className=\"sendbird-conversation__messages-padding\">\n            {\n              initialized\n              && allMessages.map(\n                (m, idx) => {\n                  const prev = allMessages[idx - 1];\n                  const prevCreatedAt = prev && prev.createdAt;\n                  const currentCreatedAt = m.createdAt;\n                  // https://stackoverflow.com/a/41855608\n                  const hasSeperator = !(prevCreatedAt && (\n                    moment(currentCreatedAt).isSame(moment(prevCreatedAt), 'day')\n                  ));\n\n                  if (renderChatItem) {\n                    return (\n                      <div key={m.messageId} className=\"sendbird-msg--scroll-ref\">\n                        {\n                          renderChatItem({\n                            message: m,\n                            onDeleteMessage: deleteMessage,\n                            onUpdateMessage: updateMessage,\n                          })\n                        }\n                      </div>\n                    );\n                  }\n\n                  return (\n                    <MessageHOC\n                      // show status for pending/failed messages\n                      status={readStatus[m.messageId] || getParsedStatus(m, currentGroupChannel)}\n                      key={m.messageId}\n                      message={m}\n                      userId={userId}\n                      hasSeperator={hasSeperator}\n                      deleteMessage={deleteMessage}\n                      updateMessage={updateMessage}\n                    />\n                  );\n                },\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nConversationScroll.propTypes = {\n  // https://stackoverflow.com/a/52646941\n  scrollRef: PropTypes.shape({\n    current: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.shape({}),\n    ]),\n  }).isRequired,\n  hasMore: PropTypes.bool,\n  messagesDispatcher: PropTypes.func.isRequired,\n  messageSource: PropTypes.shape({\n    load: PropTypes.func,\n    hasMore: PropTypes.bool,\n  }),\n  initialized: PropTypes.bool,\n  userId: PropTypes.string,\n  allMessages: PropTypes.arrayOf(PropTypes.shape({\n    createdAt: PropTypes.number,\n  })).isRequired,\n  deleteMessage: PropTypes.func.isRequired,\n  updateMessage: PropTypes.func.isRequired,\n  readStatus: PropTypes.shape({}).isRequired,\n  currentGroupChannel: PropTypes.shape({\n    markAsRead: PropTypes.func,\n  }).isRequired,\n  renderChatItem: PropTypes.element,\n  swapParams: PropTypes.bool,\n};\n\nConversationScroll.defaultProps = {\n  hasMore: false,\n  initialized: false,\n  userId: '',\n  renderChatItem: null,\n  messageSource: null,\n  swapParams: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './notification.scss';\n\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nexport default function Notification({\n  count,\n  time,\n  onClick,\n}) {\n  const timeArray = time.split(' ');\n  timeArray.splice(-2, 0, LabelStringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON);\n  return (\n    // eslint-disable-next-line\n    <div className=\"sendbird-notification\" onClick={onClick}>\n      <Label className=\"sendbird-notification__text\" color={LabelColors.ONCONTENT_1} type={LabelTypography.CAPTION_2}>\n        {`${count} `}\n        {LabelStringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE}\n        {` ${timeArray.join(' ')}`}\n      </Label>\n      <Icon\n        width=\"24px\"\n        height=\"24px\"\n        type={IconTypes.SHEVRON_DOWN}\n        fillColor={IconColors.CONTENT}\n      />\n    </div>\n  );\n}\n\nNotification.propTypes = {\n  count: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  time: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nNotification.defaultProps = {\n  count: 0,\n  time: '',\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { uuidv4 } from '../../../utils/uuid';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\n\nconst generateTypingIndicatorString = (members) => {\n  if (!members || members.length === 0) {\n    return '';\n  }\n\n  if (members && members.length === 1) {\n    return `${members[0].nickname} ${LabelStringSet.TYPING_INDICATOR__IS_TYPING}`;\n  }\n\n  if (members && members.length === 2) {\n    return `${members[0].nickname} ${LabelStringSet.TYPING_INDICATOR__AND} ${members[1].nickname} ${LabelStringSet.TYPING_INDICATOR__ARE_TYPING}`;\n  }\n\n  return LabelStringSet.TYPING_INDICATOR__MULTIPLE_TYPING;\n};\n\nfunction TypingIndicator({ channelUrl, sb }) {\n  const [handlerId, setHandlerId] = useState(uuidv4());\n  const [typingMembers, setTypingMembers] = useState([]);\n\n  useEffect(() => {\n    if (sb && sb.ChannelHandler) {\n      sb.removeChannelHandler(handlerId);\n      const newHandlerId = uuidv4();\n      const handler = new sb.ChannelHandler();\n      // there is a possible warning in here - setState called after unmount\n      handler.onTypingStatusUpdated = (groupChannel) => {\n        const members = groupChannel.getTypingMembers();\n        if (groupChannel.url === channelUrl) {\n          setTypingMembers(members);\n        }\n      };\n      sb.addChannelHandler(newHandlerId, handler);\n      setHandlerId(newHandlerId);\n    }\n\n    return () => {\n      if (sb && sb.removeChannelHandler) {\n        sb.removeChannelHandler(handlerId);\n      }\n    };\n  }, [channelUrl]);\n\n  return (\n    <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n      {generateTypingIndicatorString(typingMembers)}\n    </Label>\n  );\n}\n\nTypingIndicator.propTypes = {\n  channelUrl: PropTypes.string.isRequired,\n  sb: PropTypes.shape({\n    ChannelHandler: PropTypes.func,\n    removeChannelHandler: PropTypes.func,\n    addChannelHandler: PropTypes.func,\n  }).isRequired,\n};\n\nexport default TypingIndicator;\n","import Moment from 'moment';\nimport { LabelStringSet } from '../Label';\n\nexport const prettyDate = (date) => (Moment(date, 'x').fromNow());\n\nexport const getChannelAvatarSource = (channel, currentUserId) => {\n  if (channel && channel.coverUrl) {\n    if (channel.coverUrl !== 'https://static.sendbird.com/sample/cover/cover_') {\n      return channel.coverUrl;\n    }\n  }\n  return channel && channel.members\n    ? channel.members\n      .filter((member) => member.userId !== currentUserId)\n      .map(({ profileUrl }) => profileUrl)\n    : [];\n};\n\nexport const getOthersLastSeenAt = (channel) => {\n  if (!channel || !channel.getReadStatus || !channel.members || channel.members.length !== 2) {\n    return '';\n  }\n  const lastSeenAt = [...Object.values(channel.getReadStatus())][0].last_seen_at;\n  if (lastSeenAt === 0) {\n    return '';\n  }\n  return prettyDate(lastSeenAt);\n};\n\nexport const getChannelTitle = (channel = {}, currentUserId) => {\n  if (!channel || (!channel.name && !channel.members)) {\n    return LabelStringSet.NO_TITLE;\n  }\n  if (channel.name && channel.name !== 'Group Channel') {\n    return channel.name;\n  }\n\n  if (channel.members.length === 1) {\n    return LabelStringSet.NO_MEMBERS;\n  }\n\n  return channel.members\n    .filter(({ userId }) => userId !== currentUserId)\n    .map(({ nickname }) => (nickname || LabelStringSet.NO_NAME))\n    .join(', ');\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function AutoRefresh({\n  repeatFunc,\n}) {\n  const [label, setLabel] = useState(repeatFunc());\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (label !== repeatFunc()) {\n        setLabel(repeatFunc());\n      }\n    }, 10000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  return (<div className=\"sendbird-repeat-text\">{label}</div>);\n}\n\nAutoRefresh.propTypes = {\n  repeatFunc: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport * as utils from './utils';\n\nimport Avatar from '../Avatar';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport AutoRefresh from '../AutoRefresh';\n\nexport default function ChatHeader(props) {\n  const {\n    currentGroupChannel,\n    currentUser,\n    title,\n    subTitle,\n    isActive,\n    isMuted,\n    onActionClick,\n  } = props;\n\n  const {\n    userId,\n  } = currentUser;\n  return (\n    <div className=\"sendbird-chat-header\">\n      <div className=\"sendbird-chat-header__left\">\n        <Avatar\n          className=\"sendbird-chat-header__avatar\"\n          src={utils.getChannelAvatarSource(currentGroupChannel, userId)}\n          width=\"32px\"\n          height=\"32px\"\n        />\n        <Label\n          className=\"sendbird-chat-header__title\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {title || utils.getChannelTitle(currentGroupChannel, userId)}\n        </Label>\n        {\n          (typeof isActive === 'string' && isActive === 'true') || (typeof isActive === 'boolean' && isActive)\n            ? <div className=\"sendbird-chat-header__active\" />\n            : null\n        }\n        <Label\n          className=\"sendbird-chat-header__subtitle\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {\n            subTitle\n            || <AutoRefresh repeatFunc={() => utils.getOthersLastSeenAt(currentGroupChannel)} />\n          }\n        </Label>\n      </div>\n      <div className=\"sendbird-chat-header__right\">\n        {\n          (typeof isMuted === 'string' && isMuted === 'true') || (typeof isMuted === 'boolean' && isMuted)\n            ? <Icon className=\"sendbird-chat-header__mute\" type={IconTypes.MUTE} width=\"24px\" height=\"24px\" />\n            : null\n        }\n        <IconButton\n          className=\"sendbird-chat-header__info\"\n          width=\"32px\"\n          height=\"32px\"\n          onClick={onActionClick}\n        >\n          <Icon type={IconTypes.INFO} fillColor={IconColors.PRIMARY} width=\"24px\" height=\"24px\" />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nChatHeader.propTypes = {\n  currentGroupChannel: PropTypes.shape({}),\n  currentUser: PropTypes.shape({\n    userId: PropTypes.string,\n  }),\n  title: PropTypes.string,\n  subTitle: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.string,\n  ]),\n  isActive: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  isMuted: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  onActionClick: PropTypes.func,\n};\n\nChatHeader.defaultProps = {\n  currentGroupChannel: {},\n  title: '',\n  subTitle: '',\n  isActive: false,\n  isMuted: false,\n  currentUser: {},\n  onActionClick: () => { },\n};\n","import React, {\n  useEffect,\n  useState,\n  useRef,\n  useReducer,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport * as messageActionTypes from './dux/actionTypes';\nimport messagesInitialState from './dux/initialState';\nimport messagesReducer from './dux/reducers';\nimport eventHandler from './dux/eventListener';\n\nimport ConversationScroll from './components/ConversationScroll';\nimport Notification from './components/Notification';\nimport TypingIndicator from './components/TypingIndicator';\nimport ChatHeader from '../../ui/ChatHeader';\nimport MessageInput from '../../ui/MessageInput';\nimport { uuidv4 } from '../../utils/uuid';\nimport { getParsedStatus, scrollIntoLast } from './utils';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\n\nconst noop = () => { };\n\nexport const ConversationPanel = (props) => {\n  const {\n    channelUrl,\n    stores: { sdkStore, userStore },\n    config: { userId },\n    dispatchers: {\n      reconnect,\n    },\n    renderChatItem,\n    onChatHeaderActionClick,\n  } = props;\n  const { sdk } = sdkStore;\n  const sdkError = sdkStore.error;\n  const sdkInit = sdkStore.initialized;\n  const { user } = userStore;\n\n  const [messagesStore, messagesDispatcher] = useReducer(messagesReducer, messagesInitialState);\n  const [messageSource, setMessageSource] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [channelHandlerId, setChannelHandlerId] = useState(uuidv4());\n  // map to update read status of messages\n  const [readStatus, setReadStatus] = useState({});\n  const [messageReciverId, setMessageReciverId] = useState();\n  const [currentGroupChannel, setCurrentGroupChannel] = useState({});\n  const messageInputRef = useRef(null);\n  const scrollRef = useRef(null);\n\n  // hack to rerender header when channel info changes\n  // ChatHeader doesnt seem to recoganize changes in currentGroupChannel\n  const [hash, setHash] = useState(uuidv4());\n\n  const {\n    allMessages,\n    loading,\n    hasMore,\n    initialized,\n    unreadCount,\n    unreadSince,\n  } = messagesStore;\n\n  // to create message-datasource\n  useEffect(() => {\n    messagesDispatcher({\n      type: messageActionTypes.RESET_MESSAGES,\n    });\n    if (!sdkInit) {\n      setMessageSource(null);\n    }\n    if (channelUrl && sdkInit) {\n      messagesDispatcher({\n        type: messageActionTypes.SET_CURRENT_CHANNEL,\n        payload: channelUrl,\n      });\n      // remove previous handler\n      // to do - move to cleanup fn\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(channelHandlerId);\n      }\n      if (!sdk || !sdk.GroupChannel) { return; }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          setInvalidChannel(true);\n          return;\n        }\n\n        setInvalidChannel(false);\n        setCurrentGroupChannel(groupChannel);\n\n        // for handling read status on the go\n        const handler = new sdk.ChannelHandler();\n        const handleMessageStatus = (c) => {\n          if (channelUrl === c.url) {\n            const allReadStatus = allMessages.reduce((accumulator, msg) => {\n              if (msg.messageId !== 0) {\n                return {\n                  ...accumulator,\n                  [msg.messageId]: getParsedStatus(msg, groupChannel),\n                };\n              }\n              return accumulator;\n            }, {});\n            setReadStatus(allReadStatus);\n          }\n        };\n        handler.onDeliveryReceiptUpdated = handleMessageStatus;\n        handler.onReadReceiptUpdated = handleMessageStatus;\n        handler.onChannelChanged = () => {\n          setHash(uuidv4());\n        };\n\n        const newHandlerId = uuidv4();\n        sdk.addChannelHandler(newHandlerId, handler);\n        setChannelHandlerId(newHandlerId);\n\n        // this order is important - this mark as read should update the event handler up above\n        groupChannel.markAsRead();\n\n        // There should only be one single instance per channel view.\n        const prevMessageListQuery = groupChannel.createPreviousMessageListQuery();\n        prevMessageListQuery.limit = 30;\n        prevMessageListQuery.reverse = false;\n\n        setMessageSource(prevMessageListQuery);\n\n        messagesDispatcher({\n          type: messageActionTypes.GET_PREV_MESSAGES_START,\n        });\n\n        // Retrieving previous messages.\n        prevMessageListQuery.load((response, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let messages = response;\n          let error = err;\n          if (swapParams) {\n            messages = error;\n            error = response;\n          }\n          if (error) {\n            // maybe - add error state\n            return;\n          }\n          messagesDispatcher({\n            type: messageActionTypes.GET_PREV_MESSAGES_SUCESS,\n            payload: {\n              messages,\n              hasMore: prevMessageListQuery.hasMore,\n            },\n          });\n          setTimeout(() => scrollIntoLast('.sendbird-msg--scroll-ref'));\n        });\n      });\n    }\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(channelHandlerId);\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  // todo: cleanup internal state - this is for removing messages from other person\n  useEffect(() => {\n    setMessageReciverId(uuidv4());\n    if (channelUrl && sdk) {\n      eventHandler({ messagesDispatcher, sdk });\n    }\n    return () => {\n      if (sdk && sdk.removeChannelHandler) {\n        sdk.removeChannelHandler(messageReciverId);\n      }\n    };\n  }, [channelUrl, sdkInit]);\n\n  // to create initial read status\n  useEffect(() => {\n    if (allMessages.length > 0) {\n      const allReadStatus = allMessages.reduce((accumulator, msg) => {\n        if (msg.messageId !== 0) {\n          return {\n            ...accumulator,\n            [msg.messageId]: getParsedStatus(msg, currentGroupChannel),\n          };\n        }\n        return accumulator;\n      }, {});\n      setReadStatus(allReadStatus);\n    }\n  }, [allMessages]);\n\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        <PlaceHolder\n          type={PlaceHolderTypes.WRONG}\n          retryToConnect={() => {\n            reconnect();\n          }}\n        />\n      </div>\n    );\n  }\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} /></div>);\n  }\n  if (loading) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.LOADING} /></div>);\n  }\n  if (invalidChannel) {\n    return (<div className=\"sendbird-conversation\"><PlaceHolder type={PlaceHolderTypes.WRONG} /></div>);\n  }\n\n  return (\n    <div className=\"sendbird-conversation\">\n      <ChatHeader\n        hash={hash}\n        currentGroupChannel={currentGroupChannel}\n        currentUser={user}\n        onActionClick={onChatHeaderActionClick}\n        subTitle={currentGroupChannel.members && currentGroupChannel.members.length !== 2}\n        isActive={false}\n        isMuted={false}\n      />\n      {\n        unreadCount > 0 && (\n          <Notification\n            count={unreadCount}\n            onClick={() => {\n              scrollIntoLast('.sendbird-msg--scroll-ref');\n              // there is no scroll\n              if (scrollRef.current.scrollTop === 0) {\n                currentGroupChannel.markAsRead();\n                messagesDispatcher({\n                  type: messageActionTypes.MARK_AS_READ,\n                });\n              }\n            }}\n            time={unreadSince}\n          />\n        )\n      }\n      <ConversationScroll\n        swapParams={\n          sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n        }\n        scrollRef={scrollRef}\n        hasMore={hasMore}\n        messagesDispatcher={messagesDispatcher}\n        messageSource={messageSource}\n        initialized={initialized}\n        allMessages={allMessages}\n        userId={userId}\n        readStatus={readStatus}\n        currentGroupChannel={currentGroupChannel}\n        renderChatItem={renderChatItem}\n        deleteMessage={(message, cb) => {\n          currentGroupChannel.deleteMessage(message, (err) => {\n            if (cb) {\n              cb(err);\n            }\n            if (!err) {\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_DELETED,\n                payload: message.messageId,\n              });\n            }\n          });\n        }}\n        updateMessage={(messageId, text, cb) => {\n          const params = new sdk.UserMessageParams();\n          params.message = text;\n          currentGroupChannel.updateUserMessage(messageId, params, (r, e) => {\n            const swapParams = sdk.getErrorFirstCallback();\n            let message = r;\n            let err = e;\n            if (swapParams) {\n              message = e;\n              err = r;\n            }\n            if (cb) {\n              cb(err, message);\n            }\n            if (!err) {\n              messagesDispatcher({\n                type: messageActionTypes.ON_MESSAGE_UPDATED,\n                payload: message,\n              });\n            }\n          });\n        }}\n      />\n      <div className=\"sendbird-conversation__footer\">\n        <MessageInput\n          ref={messageInputRef}\n          disabled={!initialized}\n          onStartTyping={() => {\n            currentGroupChannel.startTyping();\n          }}\n          onSendMessage={() => {\n            const text = messageInputRef.current.value;\n            const params = new sdk.UserMessageParams();\n            params.message = text;\n            const pendingMsg = currentGroupChannel.sendUserMessage(params, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: params,\n                });\n                return;\n              }\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: pendingMsg,\n            });\n            setTimeout(() => scrollIntoLast('.sendbird-msg--scroll-ref'));\n          }}\n          onFileUpload={(file) => {\n            const params = new sdk.FileMessageParams();\n            params.file = file;\n            const pendingMsg = currentGroupChannel.sendFileMessage(params, (response, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = response;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = response;\n              }\n              if (error) {\n                messagesDispatcher({\n                  type: messageActionTypes.SEND_MESSAGEGE_FAILURE,\n                  payload: params,\n                });\n                return;\n              }\n              messagesDispatcher({\n                type: messageActionTypes.SEND_MESSAGEGE_SUCESS,\n                payload: message,\n              });\n            });\n            messagesDispatcher({\n              type: messageActionTypes.SEND_MESSAGEGE_START,\n              payload: {\n                ...pendingMsg,\n                url: URL.createObjectURL(file),\n                // pending thumbnail message seems to be failed\n                requestState: 'pending',\n              },\n            });\n            setTimeout(() => scrollIntoLast('.sendbird-msg--scroll-ref'), 1000);\n          }}\n        />\n        <div className=\"sendbird-conversation__typing-indicator\">\n          <TypingIndicator channelUrl={channelUrl} sb={sdk} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nConversationPanel.propTypes = {\n  channelUrl: PropTypes.string,\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      initialized: PropTypes.bool,\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        removeChannelHandler: PropTypes.func,\n        GroupChannel: PropTypes.any,\n        ChannelHandler: PropTypes.any,\n        addChannelHandler: PropTypes.func,\n        UserMessageParams: PropTypes.any,\n        FileMessageParams: PropTypes.any,\n      }),\n      error: PropTypes.bool,\n    }),\n    userStore: PropTypes.shape({\n      user: PropTypes.shape({}),\n    }),\n  }).isRequired,\n  dispatchers: PropTypes.shape({\n    reconnect: PropTypes.func,\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string.isRequired,\n  }).isRequired,\n  renderChatItem: PropTypes.element,\n  onChatHeaderActionClick: PropTypes.func,\n};\n\nConversationPanel.defaultProps = {\n  channelUrl: null,\n  renderChatItem: null,\n  onChatHeaderActionClick: noop,\n};\n\nexport default withSendbirdContext(ConversationPanel);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport './index.scss';\n\nexport const InputLabel = ({ children }) => (\n  <Label\n    type={LabelTypography.CAPTION_3}\n    color={LabelColors.ONBACKGROUND_1}\n    className=\"sendbird-input-label\"\n  >\n    {children}\n  </Label>\n);\n\nInputLabel.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\n// future: add validations? onChange? more props etc etc\nconst Input = React.forwardRef((props, ref) => {\n  const {\n    value,\n    placeHolder,\n    disabled,\n    name,\n    required,\n  } = props;\n  const [inputValue, setInputValue] = useState(value);\n  return (\n    <div className=\"sendbird-input\">\n      <input\n        required={required}\n        ref={ref}\n        name={name}\n        disabled={disabled}\n        value={inputValue}\n        className=\"sendbird-input--input\"\n        onChange={(e) => {\n          setInputValue(e.target.value);\n        }}\n      />\n      {(placeHolder && !inputValue) && (\n        <Label\n          className=\"sendbird-input--placeholder\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_3}\n        >\n          {placeHolder}\n        </Label>\n      )}\n    </div>\n  );\n});\n\nInput.propTypes = {\n  value: PropTypes.string,\n  placeHolder: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  required: PropTypes.bool,\n};\n\nInput.defaultProps = {\n  value: '',\n  placeHolder: '',\n  disabled: false,\n  required: false,\n};\n\nexport default Input;\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './edit-details.scss';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\n\nconst EditDetails = (props) => {\n  const {\n    onSubmit,\n    onCancel,\n    avatar,\n    title,\n  } = props;\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(avatar);\n  const [newFile, setNewFile] = useState(null);\n  return (\n    <Modal\n      titleText={LabelStringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={LabelStringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        if (title !== '' && !inputRef.current.value) {\n          if (formRef.current.reportValidity) { // might not work in explorer\n            formRef.current.reportValidity();\n          }\n          return;\n        }\n        onSubmit(newFile, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form className=\"channel-profile-form\" ref={formRef}>\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {LabelStringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            <Avatar\n              height=\"80px\"\n              width=\"80px\"\n              src={currentImg}\n            />\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n              setNewFile(e.target.files[0]);\n              hiddenInputRef.current.value = '';\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n              {LabelStringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {LabelStringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            required={title !== ''}\n            name=\"channel-profile-form__name\"\n            ref={inputRef}\n            value={title}\n            placeHolder={LabelStringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  avatar: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default EditDetails;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './channel-profile.scss';\n\nimport Avatar from '../../../ui/Avatar';\nimport Label, { LabelColors, LabelTypography, LabelStringSet } from '../../../ui/Label';\nimport EditDetailsModal from './EditDetails';\nimport TextButton from '../../../ui/TextButton';\n\nconst ChannelProfile = (props) => {\n  const {\n    avatar,\n    title,\n    onChannelInfoChange,\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile--inner\">\n        <div className=\"sendbird-channel-profile__avatar\">\n          <Avatar src={avatar} />\n        </div>\n        <Label\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n          className=\"sendbird-channel-profile__title\"\n        >\n          {title}\n        </Label>\n        <TextButton className=\"sendbird-channel-profile__edit\" onClick={() => setShowModal(true)} notUnderline>\n          <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n            {LabelStringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={onChannelInfoChange}\n              avatar={avatar}\n              title={title}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nChannelProfile.propTypes = {\n  avatar: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  title: PropTypes.string,\n  onChannelInfoChange: PropTypes.func,\n};\n\nChannelProfile.defaultProps = {\n  avatar: '',\n  title: '',\n  onChannelInfoChange: () => { },\n};\n\nexport default ChannelProfile;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './members-accordion.scss';\n\nimport Button from '../../../ui/Button';\nimport {\n  Type as ButtonTypes,\n  Size as ButtonSizes,\n} from '../../../ui/Button/type';\nimport Avatar from '../../../ui/Avatar';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../../ui/Label';\nimport Modal from '../../../ui/Modal';\nimport InviteMembers from '../../InviteMembers';\n\nconst SHOWN_MEMBER_MAX = 10;\n\nconst MemebersAccordion = ({\n  members,\n  userQueryCreator,\n  onInviteMemebers,\n  swapParams,\n}) => {\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const [showAddUserModal, setShowAddUserModal] = useState(false);\n  return (\n    <div className=\"sendbird-members-accordion\">\n      <div className=\"sendbird-members-accordion__list\">\n        {\n          members.slice(0, SHOWN_MEMBER_MAX).map((member) => (\n            <div className=\"sendbird-members-accordion__member\" key={member.userId}>\n              <div className=\"sendbird-members-accordion__member-avatar\">\n                <Avatar height=\"24px\" width=\"24px\" src={member.profileUrl} />\n              </div>\n              <Label type={LabelTypography.SUBTITLE_2} color={LabelColors.ONBACKGROUND_1}>\n                {member.nickname || LabelStringSet.NO_NAME}\n              </Label>\n            </div>\n          ))\n        }\n      </div>\n      <div className=\"sendbird-members-accordion__footer\">\n        {\n          members.length >= SHOWN_MEMBER_MAX && (\n            <Button\n              className=\"sendbird-members-accordion__footer__all-members\"\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowMoreModal(true)}\n            >\n              {LabelStringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS}\n            </Button>\n          )\n        }\n        {\n          members.length >= SHOWN_MEMBER_MAX && showMoreModal && (\n            <Modal\n              hideFooter\n              onCancel={() => setShowMoreModal(false)}\n              onSubmit={() => { }}\n              titleText={`${members.length} ${LabelStringSet.MODAL__USER_LIST__TITLE}`}\n            >\n              <div className=\"sendbird-more-members__popup-scroll\">\n                {\n                  members.map((member) => (\n                    <div key={member.userId} className=\"sendbird-more-members__popup-member\">\n                      <div className=\"sendbird-more-members__popup-avatar\">\n                        <Avatar src={member.profileUrl} height=\"40px\" width=\"40px\" />\n                      </div>\n                      <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                        {member.nickname || LabelStringSet.NO_NAME}\n                      </Label>\n                    </div>\n                  ))\n                }\n              </div>\n            </Modal>\n          )\n        }\n        <Button\n          className=\"sendbird-members-accordion__footer__invite-users\"\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => setShowAddUserModal(true)}\n        >\n          {LabelStringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER}\n        </Button>\n        {\n          showAddUserModal && (\n            <InviteMembers\n              swapParams={swapParams}\n              titleText={LabelStringSet.MODAL__INVITE_MEMBER__TITLE}\n              submitText={LabelStringSet.BUTTON__INVITE}\n              closeModal={() => setShowAddUserModal(false)}\n              idsToFilter={members.map((member) => (member.userId))}\n              userQueryCreator={userQueryCreator}\n              onSubmit={onInviteMemebers}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nMemebersAccordion.propTypes = {\n  swapParams: PropTypes.bool,\n  members: PropTypes.arrayOf(PropTypes.shape({})),\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMemebers: PropTypes.func.isRequired,\n};\n\nMemebersAccordion.defaultProps = {\n  swapParams: false,\n  members: [],\n};\n\nexport default MemebersAccordion;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors, LabelStringSet } from '../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon';\n\nimport ChannelProfile from './components/ChannelProfile';\nimport MemebersAccordion from './components/MemebersAccordion';\nimport LeaveChannelModal from './components/LeaveChannel';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { uuidv4 } from '../../utils/uuid';\nimport { getChannelAvatarSource } from '../../ui/ChannelPreview/utils';\n\nfunction ChannelSettings(props) {\n  const {\n    onCloseClick,\n    channelUrl,\n    onChannelModified,\n  } = props;\n\n  const {\n    stores: { sdkStore },\n    config: { userListQuery, userId },\n  } = props;\n\n  const { sdk, initialized } = sdkStore;\n\n  // hack to kepp track of channel updates by triggering useEffect\n  const [channelUpdateId, setChannelUpdateId] = useState(uuidv4());\n  const [channel, setChannel] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [showAccordion, setShowAccordion] = useState(false);\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  useEffect(() => {\n    if (!channelUrl || !initialized || !sdk) {\n      setInvalidChannel(false);\n    } else {\n      if (!sdk || !sdk.GroupChannel) { return; }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          setInvalidChannel(true);\n        } else {\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return (\n      <div className=\"sendbird-channel-settings\">\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {LabelStringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            type={IconTypes.CLOSE}\n            className=\"sendbird-channel-settings__close-icon\"\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              onCloseClick();\n            }}\n          />\n        </div>\n        <div>\n          <PlaceHolder type={PlaceHolderTypes.WRONG} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"sendbird-channel-settings\">\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {LabelStringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          type={IconTypes.CLOSE}\n          className=\"sendbird-channel-settings__close-icon\"\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        <ChannelProfile\n          avatar={getChannelAvatarSource(channel, userId)}\n          title={channel.name}\n          onChannelInfoChange={(currentImg, currentTitle) => {\n            channel.updateChannel(currentTitle, currentImg, channel.data, (response) => {\n              onChannelModified(response);\n              setChannelUpdateId(uuidv4());\n            });\n          }}\n        />\n        <div\n          role=\"switch\"\n          aria-checked={showAccordion}\n          tabIndex={0}\n          onKeyDown={() => setShowAccordion(!showAccordion)}\n          className=\"sendbird-channel-settings__panel-item\"\n          onClick={() => setShowAccordion(!showAccordion)}\n        >\n          <Icon\n            type={IconTypes.MEMBERS}\n            className=\"sendbird-channel-settings__panel-icon-left\"\n            height=\"24px\"\n            width=\"24px\"\n            fillColor={IconColors.PRIMARY}\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {`${LabelStringSet.CHANNEL_SETTING__MEMBERS__TITLE} (${channel.members.length})`}\n          </Label>\n          <Icon\n            type={IconTypes.SHEVRON}\n            className={[\n              'sendbird-channel-settings__panel-icon-right',\n              'sendbird-channel-settings__panel-icon--chevron',\n              (showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''),\n            ].join(' ')}\n            height=\"24px\"\n            width=\"24px\"\n          />\n        </div>\n        {\n          showAccordion && (\n            <MemebersAccordion\n              // eslint-disable-next-line\n              userQueryCreator={\n                (userListQuery && typeof userListQuery === 'function')\n                  ? userListQuery\n                  : sdk.createApplicationUserListQuery.bind(sdk)\n              }\n              swapParams={\n                sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n              }\n              members={channel.members}\n              onInviteMemebers={(selectedMemebers) => {\n                channel.inviteWithUserIds(selectedMemebers)\n                  .then((res) => {\n                    onChannelModified(res);\n                    setChannelUpdateId(uuidv4());\n                  });\n              }}\n            />\n          )\n        }\n        <div\n          className=\"sendbird-channel-settings__panel-item\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => setShowLeaveChannelModal(true)}\n          onClick={() => setShowLeaveChannelModal(true)}\n        >\n          <Icon\n            type={IconTypes.LEAVE}\n            className={[\n              'sendbird-channel-settings__panel-icon-left',\n              'sendbird-channel-settings__panel-icon__leave',\n            ].join(' ')}\n            height=\"24px\"\n            width=\"24px\"\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {LabelStringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n          </Label>\n        </div>\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCloseModal={() => setShowLeaveChannelModal(false)}\n              onLeaveChannel={() => {\n                channel.leave()\n                  .then(() => {\n                    onCloseClick();\n                  });\n              }}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nChannelSettings.propTypes = {\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        GroupChannel: PropTypes.oneOfType([\n          PropTypes.shape({\n            getChannel: PropTypes.func,\n          }),\n          PropTypes.func,\n        ]),\n        createApplicationUserListQuery: PropTypes.any,\n      }),\n      initialized: PropTypes.bool,\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n    userListQuery: PropTypes.func,\n  }).isRequired,\n};\n\nChannelSettings.defaultProps = {\n  onCloseClick: () => { },\n  onChannelModified: () => { },\n};\n\nexport default withSendbirdContext(ChannelSettings);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Conversation from '../Conversation';\nimport ChannelSettings from '../ChannelSettings';\nimport ModalRoot from '../../hooks/useModal/ModalRoot';\nimport { MenuRoot } from '../../ui/ContextMenu';\n\nimport './index.scss';\n\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  return (\n    <Sendbird\n      appId={appId}\n      userId={userId}\n      accessToken={accessToken}\n      theme={theme}\n      nickname={nickname}\n      profileUrl={profileUrl}\n      userListQuery={userListQuery}\n    >\n      <div className=\"sendbird-app__wrap\">\n        <div className=\"sendbird-app__channellist-wrap\">\n          <ChannelList\n            onChannelSelect={(channel) => {\n              if (channel && channel.url) {\n                setCurrentChannelUrl(channel.url);\n              }\n            }}\n          />\n        </div>\n        <div className=\"sendbird-app__conversation-wrap\">\n          <Conversation\n            channelUrl={currentChannelUrl}\n            onChatHeaderActionClick={() => { setShowSettings(true); }}\n          />\n        </div>\n      </div>\n      {showSettings && (\n        <div className=\"sendbird-app__settingspanel-wrap\">\n          <ChannelSettings\n            channelUrl={currentChannelUrl}\n            onCloseClick={() => { setShowSettings(false); }}\n          />\n        </div>\n      )}\n      <ModalRoot />\n      <MenuRoot />\n    </Sendbird>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n};\n","// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  } else {\n    sdk.connect(userId, accessToken)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect()\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl)\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\nexport default {\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n};\n"],"names":["SendbirdSdkContext","React","createContext","withSendbirdContext","OriginalComponent","mapStoreToProps","ContextAwareComponent","props","context","console","warn","mergedProps","componentName","displayName","name","INIT_SDK","SET_SDK_LOADING","RESET_SDK","SDK_ERROR","INIT_USER","RESET_USER","UPDATE_USER_INFO","disconnectSdk","sdkDispatcher","userDispatcher","sdk","onDisconnect","type","payload","disconnect","then","finally","handleConnection","dispatchers","userId","appId","nickname","profileUrl","accessToken","newSdk","Sb","connectCbSucess","user","newNickName","newProfileUrl","updateCurrentUserInfo","namedUser","connectCbError","connect","res","catch","err","initialized","loading","error","reducer","state","action","sdkActions","initialState","actions","Sendbird","children","theme","userListQuery","useReducer","sdkReducers","sdkInitialState","sdkStore","userReducers","userInitialState","userStore","useEffect","appentElemWithId","id","elem","document","createElement","setAttribute","body","querySelector","appendChild","modalRoot","menuRoot","classList","add","remove","stores","reconnect","config","propTypes","PropTypes","string","isRequired","oneOfType","element","arrayOf","any","func","defaultProps","RESET_CHANNEL_LIST","CREATE_CHANNEL","LEAVE_CHANNEL_SUCCESS","SET_CURRENT_CHANNEL","SHOW_CHANNEL_SETTINGS","HIDE_CHANNEL_SETTINGS","FETCH_CHANNELS_START","FETCH_CHANNELS_SUCCESS","FETCH_CHANNELS_FAILURE","INIT_CHANNELS_START","INIT_CHANNELS_SUCCESS","INIT_CHANNELS_FAILURE","ON_USER_JOINED","ON_CHANNEL_DELETED","ON_LAST_MESSAGE_UPDATED","ON_USER_LEFT","ON_CHANNEL_CHANGED","ON_READ_RECEIPT_UPDATED","ON_DELIVERY_RECEIPT_UPDATED","allChannels","currentChannel","showSettings","length","url","currentChannels","map","c","filteredChannels","filter","find","channel","newAllChannels","myMemberState","unreadMessageCount","lastMessage","currentUnReadCount","uuidv4","replace","r","Math","random","v","toString","Img","src","height","width","alt","useState","realElement","setRealElement","DefaultAvatarDark","DefaultAvatarLight","backgroundRepeat","backgroundPosition","backgroundSize","backgroundImage","AvatarInner","slice","i","Avatar","className","injectingClassName","Array","isArray","join","Typography","H_1","H_2","SUBTITLE_1","SUBTITLE_2","BODY_1","BODY_2","BUTTON_1","BUTTON_2","CAPTION_1","CAPTION_2","CAPTION_3","Colors","ONBACKGROUND_1","ONBACKGROUND_2","ONBACKGROUND_3","ONCONTENT_1","PRIMARY","ERROR","changeTypographyToClassName","changeColorToClassName","color","getStringSet","lang","stringSet","en","CHANNEL_LIST__TITLE","CHANNEL__MESSAGE_INPUT__PLACE_HOLDER","CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE","CHANNEL__MESSAGE_LIST__NOTIFICATION__ON","CHANNEL_SETTING__HEADER__TITLE","CHANNEL_SETTING__PROFILE__EDIT","CHANNEL_SETTING__MEMBERS__TITLE","CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS","CHANNEL_SETTING__MEMBERS__INVITE_MEMBER","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","BUTTON__CANCEL","BUTTON__DELETE","BUTTON__SAVE","BUTTON__CREATE","BUTTON__INVITE","BUTTON__CLOSE","BADGE__OVER","MODAL__DELETE_MESSAGE__TITLE","MODAL__CHANNEL_INFORMATION__TITLE","MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE","MODAL__CHANNEL_INFORMATION__UPLOAD","MODAL__CHANNEL_INFORMATION__CHANNEL_NAME","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","MODAL__INVITE_MEMBER__TITLE","MODAL__INVITE_MEMBER__SELECTEC","MODAL__CREATE_CHANNEL__TITLE","MODAL__CREATE_CHANNEL__SELECTED","MODAL__USER_LIST__TITLE","TYPING_INDICATOR__IS_TYPING","TYPING_INDICATOR__AND","TYPING_INDICATOR__ARE_TYPING","TYPING_INDICATOR__MULTIPLE_TYPING","MESSAGE_STATUS__SENDING_FAILED","MESSAGE_STATUS__TRY_AGAIN","MESSAGE_STATUS__OR","MESSAGE_STATUS__DELETE","PLACE_HOLDER__NO_CHANNEL","PLACE_HOLDER__WRONG","PLACE_HOLDER__RETRY_TO_CONNECT","NO_TITLE","NO_NAME","NO_MEMBERS","Label","oneOf","Object","keys","number","LabelTypography","LabelColors","LabelStringSet","Badge","count","maxLevel","maximumNumber","parseInt","repeat","truncate","fullStr","strLen","undefined","separator","sepLen","charsToShow","frontChars","ceil","backChars","floor","substr","getChannelAvatarSource","currentUserId","coverUrl","members","member","getChannelTitle","getLastMessageCreatedAt","moment","Moment","createdAt","calendar","split","format","getTotalMembers","memberCount","getPrettyLastMessage","message","MAXLEN","messageType","truncateFileName","getLastMessage","getChannelUnreadMessageCount","ChannelPreview","isActive","ChannelAction","onClick","tabIndex","currentUser","utils","bool","shape","IconButton","forwardRef","ref","disabled","ChannelHeader","title","iconButton","instanceOf","Types","LOADING","NO_CHANNELS","WRONG","ADD","ATTACH","ARROW_LEFT","AVATAR_DARK","AVATAR_LIGHT","CAMERA","MORE","MUTE","CHECKBOX","CHECKBOX_OFF","CLOSE","COPY","CHAT","CREATE","DELETE","DUMMY","EDIT","ERROR_FILLED","DELIVERED","DOCUMENT","DOWNLOAD","FILE_AUDIO","FILE_DOCUMENT","GIF","INFO","LEAVE","MEMBERS","NOTIFICATIONS","PHOTO","PLAY","PLUS","READ","REFRESH","SEND","SENT","SHEVRON","SHEVRON_DOWN","SPINNER","USER","DEFAULT","SECONDARY","CONTENT","WHITE","changeTypeToIconComponent","Type","IconAdd","IconArrowLeft","IconCamera","IconAttach","IconAvatarDark","IconAvatarLight","IconMore","IconMute","IconCheckbox","IconCheckboxOff","IconClose","IconCopy","IconChat","IconCreate","IconDelete","IconDummy","IconEdit","IconError","IconErrorFilled","IconDelivered","IconDocument","IconDownload","IconFileAudio","IconFileDocument","IconGif","IconInfo","IconLeave","IconMembers","IconNotifications","IconPhoto","IconPlay","IconPlus","IconRead","IconRefresh","IconSend","IconSent","IconShevron","IconShevronDown","IconSpinner","IconUser","Icon","fillColor","style","IconTypes","IconColors","MODAL_ROOT","DANGER","DISABLED","Size","BIG","SMALL","changeTypeToClassName","changeSizeToClassName","size","Button","injectingClassNames","ModalHeader","titleText","ModalBody","ModalFooter","onSubmit","onCancel","submitText","ButtonTypes","Modal","hideFooter","createPortal","getElementById","Checkbox","checked","onChange","isChecked","setCheck","filterUser","idsToFilter","currentId","includes","InviteMembers","userQueryCreator","closeModal","swapParams","users","setUsers","selectedUsers","setSelectedUsers","usersDataSource","setUsersDataSource","selectedCount","applicationUserListQuery","next","users_","selectedUserList","e","hasNext","fetchMore","target","clientHeight","scrollTop","scrollHeight","usersBatch","event","modifiedSelectedUsers","createChannel","Promise","resolve","reject","GroupChannel","createChannelWithUserIds","response","getErrorFirstCallback","groupChannel","AddChannel","channelListDispatcher","showModal","setshowModal","createApplicationUserListQuery","MenuItem","keyCode","MenuRoot","MenuItems","parentRef","current","closeDropdown","menuRef","handleClickOutside","contains","setState","addEventListener","removeEventListener","openLeft","parentRect","getBoundingClientRect","x","left","y","top","menuStyle","window","innerWidth","innerHeight","rect","createRef","setupEvents","getMenuPosition","showParent","cleanUpEvents","hideParent","display","position","round","Component","Element","ContextMenu","menuTrigger","menuItems","showMenu","setShowMenu","LeaveChannel","onCloseModal","onLeaveChannel","ChannelPreviewAction","useRef","setShowModal","stopPropagation","toggleDropdown","LeaveChannelModal","Loader","PlaceHolder","retryToConnect","PlaceHolderTypes","ChannelsPlaceholder","Placeholder","createEventHandler","sdkChannelHandlerId","ChannelHandler","onChannelChanged","channelActions","onChannelDeleted","channelUrl","onUserJoined","onUserLeft","onReadStatus","onDeliveryReceiptUpdated","onMessageUpdated","isEqual","addChannelHandler","setupChannelList","setChannelSource","onChannelSelect","channelListQuery","createMyGroupChannelListQuery","includeEmpty","order","limit","channelList","forEach","markAsDelivered","noop","ChannelList","renderChannelPreview","sdkError","sdkIntialized","channelListReducers","channelListInitialState","channelListStore","channelSource","setSdkChannelHandlerId","removeChannelHandler","channelListActions","getChannel","PlaceholderTypes","idx","cb","leave","RESET_MESSAGES","GET_PREV_MESSAGES_START","GET_PREV_MESSAGES_SUCESS","SEND_MESSAGEGE_START","SEND_MESSAGEGE_SUCESS","SEND_MESSAGEGE_FAILURE","ON_MESSAGE_RECEIVED","ON_MESSAGE_UPDATED","ON_MESSAGE_DELETED","MARK_AS_READ","allMessages","hasMore","unreadCount","unreadSince","isEmpty","val","a","b","aString","bString","actionTypes","messages","m","compareIds","reqId","failed","msg","messageId","indexOf","isAdminMessage","messagesDispatcher","uniqueId","onMessageReceived","messageActions","_","onMessageDeleted","getMessageCreatedAt","getSenderName","sender","friendName","getSenderProfileUrl","MessageStatusType","PENDING","FAILED","MessageStatusTypes","MessageStatus","status","onClickEvents","label","icon","objectOf","array","object","copyToClipboard","text","clipboardData","setData","queryCommandSupported","textarea","textContent","select","execCommand","ex","removeChild","OutgoingUserMessage","showEdit","showRemove","IncomingUserMessage","Message","isByMe","push","AdminMessage","SUPPORTED_MIMES","IMAGE","VIDEO","isImage","isVideo","unSupported","ThumbnailMessage","imgLoaded","setImgLoaded","isMoreActive","ONBACKGROUND_4","TextButton","notUnderline","MAX_TRUNCATE_LENGTH","checkFileType","fileUrl","result","imageFile","audioFile","test","OutgoingFileMessage","openFileUrl","open","IncomingFileMessage","MessageSwitch","DateSeparator","separatorColor","LINE_HEIGHT","KeyCode","SHIFT","ENTER","handleUploadFile","callback","files","value","MessageInput","isEdit","placeholder","maxLength","onFileUpload","onSendMessage","onCancelEdit","onStartTyping","fileInputRef","inputValue","setInputValue","isShiftPressed","setIsShiftPressed","setHeight","MAX_HEIGHT","offsetHeight","sendMessage","trimmedInputValue","trim","preventDefault","click","FileViewerComponent","onClose","onDelete","FileViewer","RemoveMessage","onDeleteMessage","MessageHoc","hasSeperator","deleteMessage","updateMessage","setShowEdit","setShowRemove","showFileViewer","setShowFileViewer","editMessageInputRef","requestState","isFileMessage","FileMessage","isUserMessage","RemoveMessageModal","isDateSeperator","scrollIntoLast","selector","intialTry","MAX_TRIES","currentTry","nodes","querySelectorAll","last","scrollIntoView","setTimeout","getParsedStatus","currentGroupChannel","getReadReceipt","isDelivered","getDeliveryReceipt","ConversationScroll","scrollRef","messageSource","first","load","messageActionTypes","markAsRead","readStatus","renderChatItem","onScroll","prev","prevCreatedAt","currentCreatedAt","isSame","onUpdateMessage","MessageHOC","Notification","time","timeArray","splice","generateTypingIndicatorString","TypingIndicator","sb","handlerId","setHandlerId","typingMembers","setTypingMembers","newHandlerId","handler","onTypingStatusUpdated","getTypingMembers","prettyDate","date","fromNow","getOthersLastSeenAt","getReadStatus","lastSeenAt","values","last_seen_at","AutoRefresh","repeatFunc","setLabel","interval","setInterval","clearInterval","ChatHeader","subTitle","isMuted","onActionClick","ConversationPanel","onChatHeaderActionClick","sdkInit","messagesReducer","messagesInitialState","messagesStore","setMessageSource","invalidChannel","setInvalidChannel","channelHandlerId","setChannelHandlerId","setReadStatus","messageReciverId","setMessageReciverId","setCurrentGroupChannel","messageInputRef","hash","setHash","handleMessageStatus","allReadStatus","reduce","accumulator","onReadReceiptUpdated","prevMessageListQuery","createPreviousMessageListQuery","reverse","eventHandler","params","UserMessageParams","updateUserMessage","startTyping","pendingMsg","sendUserMessage","file","FileMessageParams","sendFileMessage","URL","createObjectURL","InputLabel","Input","placeHolder","required","EditDetails","avatar","inputRef","formRef","hiddenInputRef","currentImg","setCurrentImg","newFile","setNewFile","reportValidity","ButtonType","ChannelProfile","onChannelInfoChange","EditDetailsModal","SHOWN_MEMBER_MAX","MemebersAccordion","onInviteMemebers","showMoreModal","setShowMoreModal","showAddUserModal","setShowAddUserModal","ButtonSizes","ChannelSettings","onCloseClick","onChannelModified","channelUpdateId","setChannelUpdateId","setChannel","showAccordion","setShowAccordion","showLeaveChannelModal","setShowLeaveChannelModal","currentTitle","updateChannel","data","bind","selectedMemebers","inviteWithUserIds","App","currentChannelUrl","setCurrentChannelUrl","setShowSettings","getConnect","store","Error","getDisconnect","getUpdateUserInfo","nickName"],"mappings":"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"}